/*== botkyrkawebb ==*/ 
(()=>{var runLocaly=!1,runLocalyPredict=!1,runLocalyView=("1"==rekGetCookie("localpredict")&&(runLocalyPredict=!0),!1),cssStyles=("1"==rekGetCookie("localview")&&(runLocalyView=!0),".rek-prediction .rek-style p{margin:0}.rek-prediction .rek-style ul{list-style:none;padding:0;margin:0}.rek-prediction .rek-style .rek-prediction__content{margin-bottom:1.5rem}.rek-prediction .rek-style .rek-prediction__content img{margin-bottom:.5rem;max-width:100%}.rek-prediction .rek-style .rek-prediction__title>a{font-size:1.5rem}.rek-prediction .rek-style-cols ul{display:flex;flex-wrap:wrap;justify-content:flex-start}.rek-prediction .rek-style-cols ul li{display:flex;align-items:center;padding:4px}.rek-prediction .rek-style-cols3 li{flex-basis:calc(33.33333% - 8px)}@media (max-width:990px){.rek-prediction .rek-style-cols3 li{flex-basis:calc(50% - 8px)}}@media (max-width:546px){.rek-prediction .rek-style-cols3 li{flex-basis:100%}}.rek-prediction .rek-style-cols3.rek-stripes li{background-color:transparent}.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(6n-3),.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(6n-4),.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(6n-5){background-color:#eee}@media (max-width:990px){.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(n){background-color:transparent}.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(4n+1),.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(4n+2){background-color:#eee}}@media (max-width:546px){.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(2n){background-color:transparent}.rek-prediction .rek-style-cols3.rek-stripes li:nth-child(odd){background-color:#eee}}.rek-prediction .rek-style-cols2 li{flex-basis:calc(50% - 8px)}@media (max-width:546px){.rek-prediction .rek-style-cols2 li{flex-basis:100%}}.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(n){background-color:transparent}.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(4n+1),.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(4n+2){background-color:#eee}@media (max-width:546px){.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(2n){background-color:transparent}.rek-prediction .rek-style-cols2.rek-stripes li:nth-child(odd){background-color:#eee}}.rek-prediction .rek-style-cols1 li{flex-basis:100%}.rek-prediction .rek-style-cols1.rek-stripes li:nth-child(2n){background-color:transparent}.rek-prediction .rek-style-cols1.rek-stripes li:nth-child(odd){background-color:#eee}.rekai-newsarticle-img-wrapper{padding-bottom:43.75%;position:relative;overflow:hidden;height:0;background-color:initial;opacity:1}.rekai-newsarticle-img-wrapper img{position:absolute;display:block;width:100%;object-fit:cover;top:50%;left:50%;min-height:100%;min-width:100%;transform:translate(-50%,-50%);height:100%}.rekai-newsarticle-article-container{padding-left:6px;padding-right:6px;box-sizing:border-box}.rekai-newsarticle-article-container-c1{width:100%}.rekai-newsarticle-article-container-c2{width:50%}.rekai-newsarticle-article-container-c3{width:33%}@media (max-width:767px){div[class*=rekai-newsarticle-article-container-],div[class^=rekai-newsarticle-article-container-]{width:100%}}.rekai-news-wrapper{margin-left:-6px;margin-right:-6px}.env-d--flex{display:-ms-flexbox;display:flex}.rek-d--flex{display:-ms-flexbox;display:flex}.rek-flex-wrap--wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.rek-p-bottom--x-small{padding-bottom:.5em!important}.rek-m-bottom--x-small{margin-bottom:.5em!important}.rek-style-pills{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.rekai-pill{box-sizing:border-box;margin-right:.5rem;border:1px solid #333}.rekai-pill:last-child{margin-right:0}.rekai-pill-link{display:block;padding:.5rem 1rem}.rekai-pills.env-list--horizontal{flex-wrap:wrap}.rekai-pill-radius{border-radius:200px}@media screen and (min-width:767px){.rekai-news-wrapper--img-left .rekai-newsarticle-article{display:grid;grid-template-columns:1fr 1fr;grid-gap:0px 15px;overflow:hidden}.rekai-news-wrapper--img-left .rekai-newsarticle-img-wrapper{grid-row-start:1;grid-row-end:3;height:100%;width:100%}.rekai-news-wrapper--img-left .rekai-newsarticle-img{height:100%;width:100%}.rekai-news-wrapper--img-left .rekai-newsarticle-a{align-self:end}}@keyframes pulse{0%{opacity:1}50%{opacity:.5}100%{opacity:1}}.rekai-skeleton-loading{background-color:#f1f1f1;width:300px;height:20px;margin:3px 20px;border-radius:4px;animation:pulse 1.5s infinite}"),projectId="11211190",viewURL=runLocalyView?"http://localhost:3000/view":"https://view.rekai.se/view",predictUrl=runLocalyPredict?"http://localhost:3000/predict":"https://predict.rekai.se/predict",customerCMS="sitevision",page404title="404",cmsvariant="none",sendviews="all",sendevents="all";try{sendevents=sendevents||""}catch(e){sendevents=""}var sendreferer="true",sendreferer="true"==sendreferer,maxsurfpathdepth="-1";try{maxsurfpathdepth=parseInt(maxsurfpathdepth)}catch(e){maxsurfpathdepth=-1}var saveviewpercentage="1";try{saveviewpercentage=parseFloat(saveviewpercentage)}catch(e){saveviewpercentage=1}var sendcontentview="false",sendcontentview="true"==sendcontentview,saveinlocalstorage="false",saveinlocalstorage="true"==saveinlocalstorage,nroftabstogroup=1;try{nroftabstogroup=parseInt("1"),-1==nroftabstogroup&&(nroftabstogroup=1)}catch(e){}var externalDomains=[];try{var domainstring="service.botkyrka.se";""!=domainstring&&externalDomains.push({savefilter:domainstring})}catch(e){}var viewurlfilters=/.*/,privacylevel="0";try{privacylevel=parseInt(privacylevel)}catch(e){privacylevel=0}var isRefresh=!1,shouldSaveClickToDatabase=!1,tabsPathName="rektabs",sentFragmentViews=[],urlChangesArray=(window.overrideObject={},[]),linkPrendered=!1,advancedPrendered=!1,acPrendered=!1,keepCheckingScroll=!0,inViewEventSent=!1,keepCheckingFAQScroll=!0,inViewFAQEventSent=!0,faqAnswerClickBeaconSent=!1,faqToPageClickBeaconSent=!1,hasSentSearchFAQanswerclick=!1,hasSentSearchFAQreadMore=!1,eventsAddedToDOM=!1,oneClickEventIsSent=!1,exitExtraInfo={},keepCheckingMouseOver=!0,linkPreamble="",PathHandler=function(){},VisitCalculator=(PathHandler.prototype={getTabNameFromUrl:function(){if(0==nroftabstogroup)return 0;var e="";try{e=(e=(e=window.location.pathname).replace("http://","")).replace("https://",""),0===e.indexOf("/-/")&&(e=e.replace("/-",""));var t=new RegExp(`^/(${["en","sv","fi","de","fr","es","it","uk","no","se"].join("|")})(?:-[a-zA-Z]{2}|_[a-zA-Z]{2})?(/|$)`),n=(e!==(e=e.replace(t,""))&&""!==e?e="/"+e:""===e&&(e="/"),e.split("/"));if(2<n.length){n.shift();for(var r="",a=0,i=0;i<n.length&&(""==n[i]||(r+=n[i],++a!=nroftabstogroup));i++);return(r=-1<r.indexOf(".")?r.substring(0,r.indexOf(".")):r).toLowerCase()}return""}catch(e){return""}},removeNthInString:function(e,t){for(var n=e,r=e.split(""),a=t-1;a<r.length-1;a+=t)r[a]="";return e=""==(e=r.join(""))?n:e},trimAPathString:function(e,t){return-1<(e=(e=(e=(e=e.replace(/\//g,"")).replace(/\./g,"")).replace(/\-/g,"")).replace(/\,/g,"")).indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e="sitevision"!=t&&"custom"!=t?e:this.removeNthInString(e,3)},checkIfStartpage:function(e,t){if("sitevision"==t){if(0==e.indexOf("2."))return!0}else if("custom"==t){if("/"==e||""==e)return!0}else if("wp"==t&&"-1"==e)return!0;return!1},ifTooOldSessionRestart:function(){var e=sessionstorageGetItem("sessionstarttime");if(e){if(29<diff_minutes(new Date(e),new Date))return sessionstorageSetItem("sessionstarttime",(new Date).toString()),!0}else sessionstorageSetItem("sessionstarttime",(new Date).toString());return!1},addToSessionPath:function(e,t){var n,r,a=this.ifTooOldSessionRestart();this.checkIfStartpage(e,t.cms)||(n=this.getSessionPathAsJSON(t),r="sp"+t.projectid,a&&(n={p:[]}),t=this.getTabsPathAsJSON(t),a&&(t={t:[]}),a=this.getTabNameFromUrl(),-1==t.t.indexOf(a)&&""!=a&&(t.t.push(a),sessionstorageSetItem(tabsPathName,JSON.stringify(t))),n.p[n.p.length-1]!=e&&(10<=n.p.length&&n.p.shift(),n.p.push(e)),sessionstorageSetItem(r,JSON.stringify(n)),saveinlocalstorage&&2<n.p.length&&localstorageSetItem(r,JSON.stringify(n)))},getReadSessionPathName:function(e){var t="sp"+e.projectid;return t=e.hasOwnProperty("readdatafromproject")&&void 0!==e.readdatafromproject?"sp"+e.readdatafromproject:t},getAPathFromSessionOrLocal:function(e,t){var n={p:[]},r=null;if(r=("session"==t?sessionstorageGetItem:localstorageGetItem)(e))try{n=JSON.parse(r)}catch(e){n={p:[]}}return n},getSessionPathAsJSON:function(e,t){e=this.getReadSessionPathName(e);return this.getAPathFromSessionOrLocal(e,"session")},getSessionPathAsString:function(e){var t,n=e.cms,r=[],e=this.getReadSessionPathName(e),a=this.getAPathFromSessionOrLocal(e,"session"),i=a;try{saveinlocalstorage&&a.p.length<2&&(t=this.getAPathFromSessionOrLocal(e,"local"))&&0<t.p.length&&(i=t)}catch(e){}var o=0;try{for(var s=i.p.length-1;0<=s;s--)if(!this.checkIfStartpage(i.p[s],n)){var c=encodeURIComponent(i.p[s]);if(-1==r.indexOf(c)&&(r.unshift(c),4==++o))break}}catch(e){return console.log("rek.ai: Error when build session path"),""}for(var d="",s=0;s<r.length;s++)d+="&p"+s+"="+r[s];return d},getTabsPathAsJSON:function(){var t={t:[]};if(sessionstorageGetItem(tabsPathName))try{t=JSON.parse(sessionstorageGetItem(tabsPathName))}catch(e){t={t:[]}}return t},getTabsPathAsString:function(){var t={t:[]},e=[];if(sessionstorageGetItem(tabsPathName))try{t=JSON.parse(sessionstorageGetItem(tabsPathName))}catch(e){t={t:[]}}var n=t.t.length;if(0==n)return"";2<n&&(n=2);for(var r=0;r<n;r++)e.push(t.t[r]);return e.sort(),e.join("")}},function(){}),Renderer=(VisitCalculator.prototype={dig:function(e){return e<10?"0"+e:e},encd:function(e){return e.getFullYear().toString().substring(2,4)+this.dig(e.getMonth()+1)+this.dig(e.getDate())},getVisits:function(t,n){var t="vds"+t.projectid,e=localstorageGetItem(t),r=1,a=1,i=30,o=new Date,s=[];if(""!=e&&e)try{for(var c,d=(c=JSON.parse(localstorageGetItem(t))).vds.length,a=0;d--;){p="20"+(p=c.vds[d]).substring(0,2)+"-"+p.substring(2,4)+"-"+p.substring(4,6);var l=new Date(p);30<Math.round(Math.abs((l.getTime()-o.getTime())/864e5))&&c.vds.splice(d,1),l.setHours(0,0,0,0)==o.setHours(0,0,0,0)&&a++}++a<20&&(n||c.vds.push(this.encd(o))),n||localstorageSetItem(t,JSON.stringify(c));for(r=c.vds.length,d=0;d<c.vds.length;d++){var p,u="20"+(p=c.vds[d]).substring(0,2)+"-"+p.substring(2,4)+"-"+p.substring(4,6);(u=new Date(u)).setHours(0,0,0,0)!=o.setHours(0,0,0,0)&&s.push(u)}s.sort(function(e,t){return t.getTime()-e.getTime()}),0<s.length&&(i=Math.round(Math.abs((o.getTime()-s[0].getTime())/864e5)))}catch(e){c={vds:[this.encd(o)]},n||localstorageSetItem(t,JSON.stringify(c))}else c={vds:[this.encd(o)]},n||localstorageSetItem(t,JSON.stringify(c));return c={vt:a=0==a?1:a,v30:r=0==r?1:r,dlv:i=0==i?30:i}}},function(){}),LinkSorter=(Renderer.prototype={trunkateText:function(e,t){var n;return(e=void 0===e?"":e).length>t&&(t=t+(n=e).substring(t).indexOf(" "),0===(e=n.substring(0,t)+"...").indexOf("<i>"))&&(e+="</i>"),e},addArrayOfClasses:function(e,t){if(isArray(e))for(var n=0;n<e.length;n++)t.classList.add(e[n]);return t},getTargetStringForUrl:function(e){try{var t=new URL(e,window.location.origin),n=window.location.hostname.replace(/^www\./,"");if(t.hostname.replace(/^www\./,"")!==n)return' target="_blank"'}catch(e){}return""},getAnATag:function(e,t,n,r,a,i,o){r=r||0;var s=document.createElement("a"),c=e,o=(s.onclick=function(){sessionstorageSetItem("rekclick",1)},s.setAttribute("data-aisource",o),s.classList.add("rek-link"),""!=t&&s.classList.add(t),a&&"envision"===i?(s.classList.add("env-button"),s.classList.add("env-button--primary"),s.classList.add("env-button--ghost"),s.classList.add("rekai-pill-radius")):a&&(s.classList.add("rekai-pill-link"),s.classList.add("rekai-pill-radius")),0<r&&(e=this.trunkateText(e,r)),document.createTextNode(e));return s.appendChild(o),c!=e&&(s.title=c),s.href=n,s},renderAsList:function(e,t,n){linkPrendered=!0;var r,a=n.styling.toLocaleLowerCase()||"",i=!1,o=("pills"!==n.renderstyle&&"pill"!==n.renderstyle||(i=!0),n.nrofhits||10),s={list:"rek-prediction__list",item:"rek-prediction__item",link:"rek-prediction__link"};try{window.__rekai=window.__rekai||{},window.__rekai.appdata=window.__rekai.appdata||{},window.__rekai.appdata.uuid&&(e.id||"").startsWith("rekai_12")&&(a="envision")}catch(e){}"envision"===a&&(s.list="env-list",s.item="env-list__item",s.link="normal");for(var c,d=e.getElementsByClassName(s.list),l=("list"==n.renderstyle?((c=document.createElement("div")).classList.add("rek-style"),c.classList.add("rek-style-cols"),c.classList.add("rek-style-cols"+n.listcols),n.addstripes&&c.classList.add("rek-stripes"),e.appendChild(c)):c=e,0<d.length?r=d[0]:((r=document.createElement("ul")).classList.add(s.list),n.addstripes&&"list"!=n.renderstyle&&r.classList.add("rek-stripes"),i&&"envision"===a?(r.classList.add("rekai-pills"),r.classList.add("env-list--horizontal")):i&&(r.classList.add("rekai-pills"),r.classList.add("rek-style-pills"))),Math.min(t.predictions.length,o)),p=0;p<l;p++){var u=t.predictions[p],g=u.url,h=u.title,m=(n.useh1forcontent&&u.hasOwnProperty("h1")&&""!=u.h1&&(h=u.h1),1),h=this.getAnATag(h,s.link,g,n.titlemaxlength,i,a,m=u.iscontext?2:m),u=document.createElement("li");if(u.classList.add(s.item),i&&"envision"===a?(u.classList.add("env-m-top--small"),l-1!=p&&u.classList.add("env-m-right--medium")):i&&u.classList.add("rekai-pill"),-1<g.indexOf(".pdf")&&u.classList.add("rek-prediction__item__pdf"),""!=n.stripecolor&&window.__rekai.appendCss&&(n.stripecolor=n.stripecolor.replace("#",""),!window.__rekai.addedStripecolor)){m=".aaa .bbb3.ddd li:nth-child(6n-3),.aaa .bbb3.ddd li:nth-child(6n-4),.aaa .bbb3.ddd li:nth-child(6n-5) {ccc: #fff}@media (max-width: 990px) {.aaa .bbb3.ddd li:nth-child(n) {ccc: eee}.aaa .bbb3.ddd li:nth-child(4n+1),\t.aaa .bbb3.ddd li:nth-child(4n+2) {ccc: #fff}}@media (max-width: 546px) {.aaa .bbb3.ddd li:nth-child(even) {ccc: eee}\t.aaa .bbb3.ddd li:nth-child(odd) {ccc: #fff}}.aaa .bbb2.ddd li:nth-child(n) {ccc: eee}.aaa .bbb2.ddd li:nth-child(4n+1),.aaa .bbb2.ddd li:nth-child(4n+2) {ccc: #fff}@media (max-width: 546px) {.aaa .bbb2.ddd li:nth-child(even) {ccc: eee}.aaa .bbb2.ddd li:nth-child(odd) {ccc: #fff}}.aaa .bbb1.ddd li:nth-child(even) {ccc: eee}.aaa .bbb1.ddd li:nth-child(odd) {ccc: #fff}",m=(m=(m=(m=(m=(m=(m+=".rek-prediction .env-list.rek-stripes .env-list__item:nth-child(even) {background-color: #fff}").replace(/aaa/g,"rek-prediction")).replace(/bbb/g,"rek-style-cols")).replace(/ccc/g,"background-color")).replace(/ddd/g,"rek-stripes")).replace(/eee/g,"transparent")).replace(/fff/g,n.stripecolor);try{var k,w=document.getElementsByTagName("head");w&&((k=document.createElement("style")).innerHTML=m,w[0])&&w[0].appendChild(k)}catch(e){console.log("stripecolor e:"+e)}window.__rekai.addedStripecolor=!0}u.appendChild(h),r.appendChild(u)}0==d.length&&(0<l&&""!=(e=this.getHTMLForHeader(n))&&(c.innerHTML=e),c.appendChild(r))},renderAsContent:function(e,t,n){var r,a=n.nrofhits||10;"content"==n.renderstyle?((r=document.createElement("div")).classList.add("rek-style"),r.classList.add("rek-style-content"),e.appendChild(r)):r=e;for(var i=0;i<Math.min(t.predictions.length,a);i++){var o=t.predictions[i],s=o.title,c=o.url,d=o.ingress,l=(""==d&&(d=o.text),document.createElement("div")),p=(l.classList.add("rek-prediction__content"),0==i&&l.classList.add("rek-prediction__first-child"),i%2!=0&&l.classList.add("rek-prediction__odd"),null),u=(""!=o.imgurl&&((p=document.createElement("p")).classList.add("rek-prediction__img"),(u=document.createElement("img")).src=o.imgurl,u.alt="",p.appendChild(u)),s),s=(n.useh1forcontent&&""!=o.h1&&(u=o.h1),document.createElement("span")),g=(s.classList.add("rek-prediction__title"),1),o=(o.iscontext&&(g=2),this.getAnATag(u,"",c,n.titlemaxlength,!1,"",g)),c=(s.appendChild(o),null);""!=d&&(c=document.createElement("div"),s.classList.add("rek-prediction__body"),g=document.createElement("p"),o=document.createTextNode(d),g.appendChild(o),c.appendChild(g)),p&&l.appendChild(p),l.appendChild(s),c&&l.appendChild(c),r.appendChild(l)}},renderAsAdvanced:function(e,t,n){advancedPrendered=!0;t=t.predictions||[],n.added=0,n.cc="rek","sitevision"==window.__rekai.customer.cms&&(n.cc="env"),n.selector=n.selector||".rek-prediction",n.nrofhits=n.nrofhits||2*n.cols,e=this.getAdvancedHtml(e,t,n);try{document.querySelector(n.selector).innerHTML=e}catch(e){console.log("Error in rek.ai script when adding advanced html to selector")}},getHTMLForHeader:function(e){var t,n="";try{""!=e.headertext&&(""!=e.headerid&&(e.headerid=' id="h-'+e.headerid+'" '),n+='<div class="rekai-news-header-wrapper">',""!=e.headerfontclass&&(e.headerfontclass=' class="'+e.headerfontclass+'" '),t="span",n=n+("<"+(t=0!=e.headerheadinglevel?"h"+e.headerheadinglevel:t))+" "+e.headerfontclass+" "+e.headerid+">"+e.headertext+"</"+t+"></div>")}catch(e){console.log("rek.ai: Error when creating head e:"+e)}return n},getAdvancedHtml:function(e,t,n){for(var r="",a=(0<t.length&&(r+=this.getHTMLForHeader(n)),r+='<div class="'+n.cc+"-m-bottom--medium rekai-news-wrapper "+n.cc+"-d--flex "+n.cc+'-flex-wrap--wrap">',0);a<t.length&&n.added!=n.nrofhits;a++)r+=this.getAdvancedHtmlOneArticle(e,t,n,a);return r+="</div>"},getAdvancedHtmlOneArticle:function(e,t,n,r){var a="",t=t[r],r=' data-aisource="1" ',i=(t.iscontext&&(r=' data-aisource="2" '),t.url);if(window.location.pathname.replace(/\/$/,"")!==i)try{n.added++;var o,s,c,d,l,p=t.title,u=(n.useh1forcontent&&t.hasOwnProperty("h1")&&""!=t.h1&&(p=t.h1),p=this.trunkateText(p,n.titlemaxlength),this.trunkateText(t.ingress,n.ingressmaxlength)),g=t.imgurl,h="rekai-newsarticle-article-container",m=(h+=" "+h+"-c"+n.cols,1==n.added&&(h+=" rekai-newsarticle__first-child"),n.added%2!=0&&(h+=" rekai-newsarticle__odd"),a=a+('<div class="'+h+" "+n.cc+'-p-bottom--x-small">')+'<div class="rekai-newsarticle-article">',n.showimage&&(""==g&&""!=(o=""==(o=n.fallbackimgsrc||"")?n.defaultimageurl||"":o)&&(g=o),s=""!=(s=t.jpgimgalt||"")?' alt="'+s+'" ':" alt ",a=(a+='<div class="rekai-newsarticle-img-wrapper '+n.cc+'-m-bottom--x-small">')+'<img  loading="lazy"  class="rekai-newsarticle-img" src="'+g+'" '+s+"></div>"),n.showdate&&""!=t.pubdate&&(c=t.pubdate,a=(a+='<div class="rekai-newsarticle-pubdate">')+"<span "+(d=(d="")!=n.datefontclass?' class="'+n.datefontclass+'" ':d)+">"+c+"</span></div>"),""),k="",w="",f=(0!=n.titleheadinglevel?(m="<h"+n.titleheadinglevel+' class="'+n.titlefontclass+'">',k="</h"+n.titleheadinglevel+">"):w=n.titlefontclass,a+=m,this.getTargetStringForUrl(i)),_=p;a=a+('<a class="rekai-newsarticle-a '+w+'" href="'+i+'" aria-label="'+(_=p.replace(/"/g,"&quot;"))+'" title="'+linkPreamble+_+'" '+r+" "+f+">"+p+"</a>")+k,n.showingress&&(l="p",a=(a+="<"+(l=0!=n.ingressheadinglevel?"h"+n.ingressheadinglevel:l)+' class="rekai-newsarticle-p '+n.ingressfontclass+'">')+u+"</"+l+">"),a=a+"</div>"+"</div>"}catch(e){console.log("Error in rek.ai script when renderinge advanced articles e:"+e)}return a},getFaqHTML:function(e,t,n){for(var r="",a=(0<t.length&&(r+=this.getHTMLForHeader(n)),r=r+'<div class="faq-area">'+'<div class="faq-container" aria-label="Frågor och svar">',0);a<t.length&&n.added!=n.nrofhits;a++)r+=this.getFaqHTMLOneQuestion(e,t,n,a),0;return r=r+"</div>"+"</div>"},getFaqHTMLOneQuestion:function(e,t,n,r){var a="",i=t[r].question,o=t[r].answer,s=t[r].id||t[r].idNbr||"",c=t[r].pathname||t[r].p||t[r].path||"",d=t[r].pagetitle||t[r].title||"",l=(t[r].headerid,' data-aisource="1" '),a=(a=(a=(a=a+'<div class="one-faq-wrapper">'+('<a class="faq-page trigger-rek-entitytype-faq-view" data-rek-entityid="'+s+'" id="tab'+r+'" aria-controls="panel'+r+'" href="#" aria-expanded="false" tabindex="-1" '+(l=t[r].iscontext?' data-aisource="2" ':l)+">"))+i+"</a>")+('<div class="faq-body" id="panel'+r+'"  aria-labelledby="tab'+r+'" aria-hidden="true" tabindex="0">')+'<p class="one-faq-answer">')+o+"</p>";return a=(a=""!=d?(a=a+'Läs mer om svaret på: <a class="faq-to-answer-page trigger-rek-entitytype-faq-to-page" data-rek-entityid="'+s+'" href="'+c+'">')+d+"</a>":a)+"</div>"+"</div>"},renderAsFaq:function(e,t,n){t=t.predictions,n.added=0,t=this.getFaqHTML(e,t,n);n.selector=n.selector||".rek-prediction";try{e.innerHTML=t}catch(e){console.log("Error in rek.ai script when adding faq html to selector")}}},function(){});function getQuestionsOptions(e){(e=e||{}).classes=e.classes||{};let t={};t.rek_hash=getRandomHash(4),t.rek_class_prefix="rekai",t.REK_ACCORDION_ID=t.rek_class_prefix+"-accordion-"+t.rek_hash,t.rek_class_accordion=t.rek_class_prefix+"-accordion",t.rek_class_accordion_list=t.rek_class_accordion+"__list",t.rek_class_accordion_header=t.rek_class_accordion+"__header",t.rek_class_accordion_button=t.rek_class_accordion+"__button",t.rek_class_accordion_trigger_view=t.rek_class_accordion+"__trigger-view",t.rek_class_accordion_button_span=t.rek_class_accordion+"__question-text",t.rek_class_accordion_body=t.rek_class_accordion+"__body",t.rek_class_accordion_answer_text=t.rek_class_accordion+"__answer-text",t.rek_class_accordion_answer_page=t.rek_class_accordion+"__answer-page",t.rek_class_accordion_link=t.rek_class_accordion+"__link",t.class_accordion_list=e.classes.class_accordion_list||t.rek_class_accordion_list,t.class_accordion_button=e.classes.class_accordion_button||t.rek_class_accordion_button,t.class_accordion_trigger_view=e.classes.class_accordion_trigger_view||t.rek_class_accordion_trigger_view,t.class_accordion_button_span=e.classes.class_accordion_button_span||t.rek_class_accordion_button_span,t.class_accordion_body=e.classes.class_accordion_body||t.rek_class_accordion_body,t.class_accordion_answer_text=e.classes.class_accordion_answer_text||t.rek_class_accordion_answer_text,t.class_accordion_answer_page=e.classes.class_accordion_answer_page||t.rek_class_accordion_answer_page,t.class_accordion_link=e.classes.class_accordion_link||t.rek_class_accordion_link,t.use_icon=!0,t.text_read_about_answer="Läs mer om svaret på: ",t.text_read_about_answer_no_title="Läs mer om svaret ",t.text_read_about_answer_link="här";var n=getPagelang();return-1<n.indexOf("fi")?(t.text_read_about_answer="Lue lisää: ",t.text_read_about_answer_no_title="Lue lisää ",t.text_read_about_answer_link="täältä"):-1<n.indexOf("en")?(t.text_read_about_answer="Read more about the answer: ",t.text_read_about_answer_no_title="Read more about the answer ",t.text_read_about_answer_link="here"):-1<n.indexOf("no")||-1<n.indexOf("nb")?(t.text_read_about_answer="Les mer om svaret på: ",t.text_read_about_answer_no_title="Les mer om svaret ",t.text_read_about_answer_link="her"):-1<n.indexOf("da")?(t.text_read_about_answer="Læs mere om svaret på: ",t.text_read_about_answer_no_title="Læs mere om svaret ",t.text_read_about_answer_link="her"):-1<n.indexOf("nl")?(t.text_read_about_answer="Lees meer over het antwoord: ",t.text_read_about_answer_no_title="Lees meer over het antwoord ",t.text_read_about_answer_link="hier"):-1<n.indexOf("de")&&(t.text_read_about_answer="Weitere Informationen: ",t.text_read_about_answer_no_title="Weitere Informationen ",t.text_read_about_answer_link="hier"),t.question_text_max_width="700px",void 0!==e.text_read_about_answer&&""!=e.text_read_about_answer&&(t.text_read_about_answer=e.text_read_about_answer),void 0!==e.text_read_about_answer_no_title&&""!=e.text_read_about_answer_no_title&&(t.text_read_about_answer_no_title=e.text_read_about_answer_no_title),void 0!==e.text_read_about_answer_link&&""!=e.text_read_about_answer_link&&(t.text_read_about_answer_link=e.text_read_about_answer_link),window.__rekai=window.__rekai||{},window.__rekai.qna=window.__rekai.qna||{},window.__rekai.qna.config=window.__rekai.qna.config||[],!(t.disablehighlight=!1)===e.disablehighlight&&(t.disablehighlight=!0),Array.isArray(window.__rekai.qna.config)&&!window.__rekai.qna.config.find(e=>e.rek_hash===t.rek_hash)&&window.__rekai.qna.config.push(t),t}function getOneAccordionAsHtmlString(n,r){try{var{question:a,answer:i,id:o,pagetitle:s,url:c,headerid:d,referenceTextStart:l,referenceTextEnd:p}=n,u=r.rek_class_prefix+`-${r.rek_hash}-question-`+o,g=r.rek_class_prefix+`-${r.rek_hash}-answer-`+o;let e=c,t=' data-aisource="1" ';n.iscontext&&(t=' data-aisource="2" '),""!==d&&(e=c+"#"+d),!0!==r.disablehighlight&&""!==l&&""!==p&&(""===d&&(e+="#"),e=e+":~:text="+encodeURIComponent(l)+","+encodeURIComponent(p));return`
                    <dt class="${r.rek_class_accordion_header}">
                        <button id="${u}" class="${r.rek_class_accordion_button} ${r.rek_class_accordion_trigger_view}" aria-expanded="false" data-rek-entityid="${o}" aria-controls="${g}" ${t}>
                            <span class="${r.class_accordion_button_span}">
                                ${a}
                            </span>
                            ${r.use_icon?'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" class="svg-plus" fill="currentColor"></path><path d="M19 13H5v-2h14v2z" class="svg-minus" fill="none"></path></svg>':""}
                        </button>
                    </dt>
                    <dd class="${r.class_accordion_body}" id="${g}" aria-labelledby="${u}" hidden>
                        <p class="${r.class_accordion_answer_text}">${i}</p>
                        <p class="${r.class_accordion_answer_page}">
                        ${`
                                ${s?`${r.text_read_about_answer}<a class="${r.class_accordion_link}" href="${e}">${s}</a>`:`${r.text_read_about_answer_no_title}<a class="${r.class_accordion_link}" href="${e}">${r.text_read_about_answer_link}</a>.`}
                            `}
                        </p>
                    </dd>
            `}catch(e){return""}}function getAllAccordionsAsHtmlString(e,t){e=Object.values(e.predictions).map(e=>getOneAccordionAsHtmlString(e,t));return`<dl id="${t.REK_ACCORDION_ID}" class="${t.class_accordion_list}">${e.join("")}</dl>`}function addCssStylesForQuestions(t){var e,n,r=window.__rekai.qna.config.find(e=>e.rek_hash===t.rek_hash);r&&!r.stylesRendered&&(e=document.createElement("style"),"string"==typeof(n=window.__rekai.nonce)&&""!==n&&e.setAttribute("nonce",n),e.innerHTML=`
                .${t.rek_class_accordion_header} {

                }

                .${t.rek_class_accordion_button} svg {
                    width: 24px;
                    height: 24px;
                    color: inherit;
                    display: block;
                    flex: 24px 0 0;
                    margin-left: 5px;
                }

                .${t.rek_class_accordion_button}[aria-expanded="true"] svg .svg-plus,
                .${t.rek_class_accordion_button}[aria-expanded="false"] svg .svg-minus {
                    fill: none
                }

                .${t.rek_class_accordion_button}[aria-expanded="false"] svg .svg-plus,
                .${t.rek_class_accordion_button}[aria-expanded="true"] svg .svg-minus {
                    fill: currentColor;
                }

                .${t.rek_class_accordion_button} svg .svg-plus {
                    fill: #00ff00
                }

                .${t.rek_class_accordion_button} {
                    background: transparent;
                    border: 0;
                    border-radius: 0;
                    padding: 0;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding-left: 8px;
                    padding-right: 8px;
                    min-height: 60px;
                    font-size: inherit;
                    text-align: inherit;
                    color: inherit;
                    cursor: pointer;
                    font-family: inherit;
                    border-top: 1px solid #868e96;
                    width: 100%;
                }

                .${t.rek_class_accordion_list} dt:last-of-type .${t.rek_class_accordion_button}[aria-expanded="false"] {
                    border-bottom: 1px solid #868e96;
                }

                .${t.rek_class_accordion_button}:hover {
                    background-color: #f1f3f5;
                }

                .${t.rek_class_accordion_body} {
                    padding: .25rem 8px 1rem;
                    margin: .5rem 0 1rem;
                }

                .${t.rek_class_accordion_answer_text} {
                    max-width: ${t.question_text_max_width};
                    text-align: left;
                }

                .${t.rek_class_accordion_answer_page} {
                    max-width: ${t.question_text_max_width};
                    margin-top: 1.25rem;
                    margin-bottom: 0;
                }

                .rek-sv-autocomplete .${t.rek_class_accordion_button} {
                    min-height: 40px;
                    padding: 8px 20px;
                    border-top: 1px solid #dddddd;
                }

                .rek-sv-autocomplete .${t.rek_class_accordion_button} svg {
                    width: 20px;
                    height: 20px;
                    flex: 20px 0 0;
                }

                .rek-sv-autocomplete .${t.rek_class_accordion_body} {
                    margin: 0 20px;
                    padding-left: 0;
                    padding-right: 0;
                }

                .rekai-autocomplete .${t.rek_class_accordion_button} {
                    min-height: 40px;
                    padding: 8px 12px;
                    border-top: 1px solid #dddddd;
                }
                
                .rekai-autocomplete .${t.rek_class_accordion_body} {
                    padding:0;
                    margin-left: 12px;
                    margin-right: 12px; 
                }

                .rek-sv-autocomplete .${t.rek_class_accordion_answer_text},
                .rekai-autocomplete .${t.rek_class_accordion_answer_text} {
                    margin-top: 0;
                }

                .rek-sv-autocomplete .${t.rek_class_accordion_header}.sv-autocomplete-result-item-active {
                    background-color: #f5f5f5;
                    color: #262626;
                }
            `,window.__rekai.appendCss&&document.head.appendChild(e),r.stylesRendered=!0)}function openQuestion(e,t,n){var e=e.target,r=(n=n||getQuestionsOptions(),e.closest("."+n.rek_class_accordion_header));!hasSentSearchFAQreadMore&&e.classList.contains("rekai-accordion__link")&&(e.closest(".sv-autocomplete-search-result")||e.closest(".rekai-dropdown-menu"))?(hasSentSearchFAQreadMore=!0,window.__rekai.sendingAnEvent(null,null,"read-more-click","search:rekai-faq","")):r&&(r=r.querySelector("."+n.rek_class_accordion_button))&&(n="true"===r.getAttribute("aria-expanded"),r.setAttribute("aria-expanded",!n),document.getElementById(r.getAttribute("aria-controls")).hidden=n,hasSentSearchFAQanswerclick||(e.closest(".sv-autocomplete-search-result")||e.closest(".rekai-dropdown-menu"))&&(hasSentSearchFAQanswerclick=!0,window.__rekai.sendingAnEvent(null,null,"answerclick","search:rekai-faq","")),""!=(n=r.dataset.rekEntityid||""))&&-1==window.__rekai.allClickedFAQs.indexOf(n)&&(window.__rekai.allClickedFAQs.push(n),window.__rekai.entitytype="rekai-faq",window.__rekai.entityid=n,window.__rekai.sendView())}function addEventListenersForQuestions(t,n){var e,r;t.overridefunction&&"function"==typeof t.overridefunction?t.overridefunction(data,t):(e=window.__rekai.qna.config.find(e=>e.rek_hash===n.rek_hash))&&!e.eventsAdded&&(r=null,r=n.serversideRendering?document.querySelector(".rekai-accordion__list__serverside"):document.getElementById(n.REK_ACCORDION_ID))&&(r.addEventListener("click",e=>{"A"!==e.target.tagName&&e.preventDefault(),openQuestion(e,t,n)}),r.addEventListener("keydown",e=>{"Enter"!==e.key&&13!==e.keyCode||("A"!==e.target.tagName&&e.preventDefault(),openQuestion(e,t,n))}),e.eventsAdded=!0)}function renderQuestionsAsAccordions(e,t,n){(n=n||{}).classes=n.classes||{};var r=getQuestionsOptions(n);let a=getAllAccordionsAsHtmlString(t,r),i;0<t.predictions.length&&""!==n.headertext&&(i=new Renderer,a=i.getHTMLForHeader(n)+a),e.innerHTML=a,addCssStylesForQuestions(r),addEventListenersForQuestions(n,r)}function getRandomHash(e){return Math.random().toString(36).substring(2,2+e)}function addBeacon(e){var t;1===privacylevel||window.__rekai.blockSendBeacon||hasConsent()&&"1"!=rekGetCookie("rekblock")&&"1"!=rekGetCookie("localpredict")&&(t=viewURL+"/event",navigator.sendBeacon(t,e))}function preSendingAnEvent(e,t,n){try{if("inview"===n)setTimeout(function(){isVisibleInViewport(e,150)&&(inViewEventSent=!0,sendingAnEvent(e,t,n,"",""))},2e3);else if("linkclick"===n){var r="";try{r=t.dataset.aisource||""}catch(e){r=""}var a=r;inViewEventSent||(inViewEventSent=!0,sendingAnEvent(e,{},"inview","","")),sendingAnEvent(e,t,n,"",a)}else sendingAnEvent(e,t,n,"","")}catch(e){console.log("rek.ai: preSendingAnEvent e:"+e)}}function sendingAnEvent(e,t,n,r,a){a=a||"";var e=e||{},i="",t=t||{},r=r||"";if(isPathOkToSendToBackend()){t.href&&(i=t.href);var o="",s=e.dataset||{},t=(s.hasOwnProperty("renderstyle")&&(o="renderstyle:"+s.renderstyle),checkIfIsFAQ(e)&&("renderstyle:rekai-qna"===(o="renderstyle:"+(s.entitytype||"rekai-faq"))&&(o="renderstyle:rekai-faq"),i="",(e=t.dataset||{}).hasOwnProperty("rekEntityid"))&&(i=e.rekEntityid),"renderstyle:pills"==o&&(o="renderstyle:list"),s.hasOwnProperty("gettermfromqueryparameter")&&""!=s.gettermfromqueryparameter&&(o="renderstyle:searchtips"),s.hasOwnProperty("addcontent")&&"true"===s.addcontent&&(o="renderstyle:addcontent"),""!=r&&(o=r),"");try{window.__rekai.eventlabel&&(t=window.__rekai.eventlabel)}catch(e){}e=window.performance.now()||-1,e=parseInt(e),s={eventcategory:n,eventaction:o,eventlabel:t,currenturl:window.location.pathname,targeturl:i,content:a,p:projectId,eventtype:"active",timerinms:e},s=JSON.stringify(s);try{let e=!0;"renderstyle:rekai-faq"===o&&"inview"===n&&(e=!1,inViewFAQEventSent||(inViewFAQEventSent=!0,e=!0)),e&&addBeacon(s)}catch(e){console.log("rek.ai: sendingAnEvent e:"+e)}}}function isVisibleInViewport(e,t){t=t||0;try{if(!function e(t){var n;return t!==document.body&&("none"===(n=window.getComputedStyle(t)).display||"hidden"===n.visibility||e(t.parentNode))}(e)){var n,r,a=window.getComputedStyle(e);if("none"!=a.display&&"0"!=a.opacity&&"hidden"!=a.visibility&&"circle(0px at 50% 50%)"!=a.clipPath&&"scale(0)"!=a.transform&&!e.hasAttribute("hidden"))return r=(n=e.getBoundingClientRect()).top,0<=(r+=t)&&r<(window.innerHeight||document.documentElement.clientHeight)&&0<=n.left}}catch(e){}}function checkIfInViewOnScroll(e){keepCheckingScroll&&!inViewEventSent&&isVisibleInViewport(e,150)&&(keepCheckingScroll=!1,preSendingAnEvent(e,{},"inview"))}function checkIfFAQInViewOnScroll(e){keepCheckingFAQScroll&&!inViewFAQEventSent&&isVisibleInViewport(e,150)&&setTimeout(function(){isVisibleInViewport(e,150)&&(keepCheckingFAQScroll=!1,inViewFAQEventSent||sendingAnEvent(e,{},"inview","",""))},1500)}function checkAndSendClickEvent(e,t){var n="";""==(n=t.href?t.href:n)||oneClickEventIsSent||(oneClickEventIsSent=!0,preSendingAnEvent(e,t,"linkclick"))}function checkAndAddEventsToONEFAQElementInDOM(e){e.addEventListener("click",function(e){var t=!1;if("svg"===e.target.tagName&&(t=!0),"button"===e.target.tagName.toLowerCase()||"button"===e.target.parentNode.tagName.toLowerCase()||t){var n=!1;try{(-1<e.target.className.indexOf("rekai-accordion__button")||-1<e.target.parentNode.className.indexOf("rekai-accordion__button"))&&(n=!0)}catch(e){n=!0}!n&&!t||faqAnswerClickBeaconSent||(inViewFAQEventSent||sendingAnEvent({},"","inview","renderstyle:rekai-faq",""),faqAnswerClickBeaconSent=!0,sendingAnEvent({},"","answerclick","renderstyle:rekai-faq",""))}"a"===e.target.tagName.toLowerCase()&&-1<e.target.className.indexOf("rekai-accordion__link")&&(faqToPageClickBeaconSent||(faqToPageClickBeaconSent=!0,sendingAnEvent({},"","read-more-click","renderstyle:rekai-faq","")))})}function checkAndAddEventsToONEElementInDOM(e){try{var t="div.rek-prediction:not([data-entitytype='rekai-qna']):not([data-entitytype='rekai-faq'])",n=(""!=(e=e||"")&&(t=e),document.querySelectorAll(t));if(0<n.length)for(var r=0;r<n.length;r++){var a=n[r];try{eventsAddedToDOM=!0,a.addEventListener("click",function(e){if("a"===e.target.tagName.toLowerCase())checkAndSendClickEvent(this,e.target);else try{checkAndSendClickEvent(this,e.target.closest("a"))}catch(e){}}),isVisibleInViewport(a,150)&&(keepCheckingScroll=!1,preSendingAnEvent(a,{},"inview")),keepCheckingScroll&&(document.addEventListener("scroll",function(){inViewEventSent||checkIfInViewOnScroll(a)},{passive:!0}),document.body.addEventListener("scroll",function(){inViewEventSent||checkIfInViewOnScroll(a)},{passive:!0}))}catch(e){console.log("checkAndAddEventsToONEElementInDOM e:"+e)}}}catch(e){console.log("rek.ai checkAndAddEventsToONEElementInDOM e:"+e)}}function sendDocAndExternalEvent(e,t){if(!window.__rekai.exitEventSent){window.__rekai.exitEventSent=!0;var n=window.performance.now()||-1,n=parseInt(n),t={eventcategory:t,eventaction:"",eventlabel:"",currenturl:window.location.pathname,targeturl:e.currentTarget.href,content:"",p:projectId,eventtype:"active",timerinms:n},t=JSON.stringify(t);try{addBeacon(t)}catch(e){console.log("rek.ai: sendDocAndExternalEvent e:"+e)}}}function checkAndAddEventsToDOM(e){e=e||".rek-prediction";if("none"!=sendevents&&navigator.sendBeacon){for(var t,n=document.querySelectorAll("div.rek-prediction[data-entitytype='rekai-qna'], div.rek-prediction[data-entitytype='rekai-faq'], dl.rekai-accordion__list__serverside"),r=(0<n.length&&(inViewFAQEventSent=!1,checkAndAddEventsToONEFAQElementInDOM(t=n[0]),checkIfFAQInViewOnScroll(t),document.addEventListener("scroll",function(){checkIfFAQInViewOnScroll(t)},{passive:!0}),document.body.addEventListener("scroll",function(){checkIfFAQInViewOnScroll(t)},{passive:!0})),e.split(",")),a=0;a<r.length;a++)""!=r[a]&&","!=r[a]&&checkAndAddEventsToONEElementInDOM(r[a]);try{for(var i=document.links,a=0;a<i.length;a++){var o=i[a].href;-1<o.indexOf(".pdf")?i[a].addEventListener("click",function(e){sendDocAndExternalEvent(e,"docClick")}):-1<o.indexOf("mailto:")?i[a].addEventListener("click",function(e){sendDocAndExternalEvent(e,"mailto")}):-1<o.indexOf("tel:")?i[a].addEventListener("click",function(e){sendDocAndExternalEvent(e,"tel")}):-1<o.indexOf("http")&&-1==o.indexOf(window.location.hostname)&&i[a].addEventListener("click",function(e){sendDocAndExternalEvent(e,"externalClick")})}}catch(e){console.log("rek.ai: checkAndAddEventsToDOM e:"+e)}}}function addGenericEventTracking(){try{window.addEventListener("beforeunload",function(e){sendExitEvent()})}catch(e){}}function getScrollPercent(){var e=document.documentElement,t=document.body,n="scrollTop",r="scrollHeight";return(e[n]||t[n])/((e[r]||t[r])-e.clientHeight)*100}function checkIfIsFAQ(e){if(e){var t=e.dataset||{};if(t.hasOwnProperty("entitytype")&&("rekai-faq"===t.entitytype||"rekai-qna"===t.entitytype))return 1;try{if(-1<e.className.indexOf("rekai-accordion__list__serverside"))return inViewFAQEventSent=!1,1}catch(e){}}}function sendExitEvent(){try{var e,t,n,r,a,i,o,s,c,d,l,p,u;window.__rekai.viewHCStatus&&!window.__rekai.exitEventSent&&(e=!(window.__rekai.exitEventSent=!0),n=(t=document.activeElement||null).href||"",e="A"!==(r=t.tagName)||-1<n.indexOf("http")&&-1===n.indexOf(window.location.hostname)||e)&&(a=sessionstorageGetItem("rekOrgRef")||"",i=window.performance.now()||-1,i=parseInt(i),o=getScrollPercent()||-1,o=parseInt(o),s=(new PathHandler).getSessionPathAsJSON(__rekai.customer)||null,c=-1,s&&(c=s.p.length),d=window.location.pathname,l=window.location.search,p=window.__rekai.searchInputValue||"",u={p:projectId,currenturl:d,targeturl:n,timeonpagems:i,orgRef:a,scrollPercent:o,pathObjectLength:c,search:l,tagName:r,eventtype:"passive",wasInView:inViewEventSent,searchinput:p},addBeacon(u=JSON.stringify(u)))}catch(e){}}function getAllLinksInDOM(){try{return Array.from(document.querySelectorAll("a")).filter(function(e){return e.hasAttribute("href")})}catch(e){return console.log("rek.ai: getAllLinksInDOM e:"+e),[]}}function addEventsJSRendererLinks(e,t){if(!eventsAddedToDOM&&"none"!=sendevents&&navigator.sendBeacon){try{var n=new Set(e.map(e=>e.href)),r=t.filter(e=>!n.has(e.href)),a=r[r.length-1];isVisibleInViewport(a,0)&&(preSendingAnEvent(a,{},"inview"),keepCheckingScroll=!1),keepCheckingScroll&&document.addEventListener("scroll",function(){keepCheckingScroll&&isVisibleInViewport(a,0)&&(keepCheckingScroll=!1,preSendingAnEvent(a,{},"inview"))},{passive:!0})}catch(e){}for(var i=0;i<r.length;i++)try{r[i].addEventListener("click",function(e){preSendingAnEvent(this,e.currentTarget,"linkclick")})}catch(e){}}}function hasTouchSupport(){return"ontouchstart"in window||0<navigator.maxTouchPoints}function isMobile(){return window.innerWidth<1067||screen.width<1067}function rekaiMobile(){try{return isMobile()&&hasTouchSupport()?1:-1}catch(e){console.log("rekaiMobile e"+e)}}function getCurrentScriptDataset(){var e={};try{e=document.currentScript.dataset}catch(e){}return e}function getNonce(){var e="";try{var t=getCurrentScriptDataset();t.nonce&&(e=t.nonce)}catch(e){}return e}function getUseConsent(){var e=!1;try{var t=getCurrentScriptDataset();t.useconcent&&"true"===t.useconcent&&(e=!0),t.useconsent&&"true"===t.useconsent&&(e=!0)}catch(e){}return e}function getAppendCss(){var e=!0;try{var t=getCurrentScriptDataset();t.allowinlinecss&&"false"===t.allowinlinecss&&(e=!1)}catch(e){}return e}function hasConsent(){return!window.__rekai.useconsent||!!(window.__rekai.consentaccepted||!1)||("true"===sessionStorage.getItem("rekai_consent_accepted")||"true"===localStorage.getItem("rekai_consent_accepted"))&&(window.__rekai.consentaccepted=!0)}function removeLocalAndSessionStorage(){var e=window.__rekai.customer.projectid||"";localStorage.removeItem("vds"+e),sessionStorage.removeItem("last"+e),sessionStorage.removeItem("sp"+e),sessionStorage.removeItem("rekOrgRef"),sessionStorage.removeItem("rektabs"),sessionStorage.removeItem("sessionstarttime")}function autoRemoveLocalAndSessionStorage(){try{!window.__rekai.hasOwnProperty("appdata")||!window.__rekai.appdata.hasOwnProperty("consent")||window.__rekai.appdata.consent.hasOwnProperty("hasAcceptedRekaiConsent")&&!window.__rekai.appdata.consent.hasRekaiConsent||!window.__rekai.appdata.consent.hasOwnProperty("hasAcceptedRekaiConsent")||window.__rekai.appdata.consent.hasAcceptedRekaiConsent||removeLocalAndSessionStorage()}catch(e){console.log("autoRemoveLocalAndSessionStorage e"+e)}}function diff_minutes(e,t){try{var n=(e.getTime()-t.getTime())/1e3;return n/=60,Math.abs(Math.round(n))}catch(e){return 0}}function sessionstorageSetItem(e,t){if(!window.__rekai.blockSaveToSessionStorage)try{hasConsent()&&sessionStorage.setItem(e,t)}catch(e){console.log("[rek.ai] error 001")}}function sessionstorageGetItem(e){if(window.__rekai.blockSaveToSessionStorage)return null;try{if(hasConsent())return sessionStorage.getItem(e)}catch(e){console.log("[rek.ai] error 003")}}function localstorageSetItem(e,t){if(!window.__rekai.blockSaveToLocalStorage)try{hasConsent()&&localStorage.setItem(e,t)}catch(e){console.log("[rek.ai] error 002")}}function localstorageGetItem(e){if(window.__rekai.blockSaveToLocalStorage)return null;try{if(hasConsent())return localStorage.getItem(e)}catch(e){console.log("[rek.ai] error 004")}}function getLocationPath(){return location.search.indexOf(!1)?location.pathname+location.search:window.location.href}function cleanLocalPath(e){return e=(e=e.split("?")[0]).split("#")[0]}function getFeatureFloat(e,t){return 1<t?t=1:t<-1&&(t=-1),{id:e,value:parseFloat(t.toFixed(4))}}function getFeatureString(e,t){return{id:e,value:t}}function flip(e){0<e||Math.abs(e)}function getSingleTab(e){var t="";try{var n=window.location.pathname;(n.match(/\//g)||[]).length==nroftabstogroup&&(-1<(n=n.replace(/\//g,"")).indexOf(".")&&(n=n.substring(0,n.indexOf("."))),""==e||-1==e.indexOf(n))&&(t=n)}catch(e){}return t}function datausecfToArr(e){var t=[-1];return"none"==e?t:"all"==e||""==e?[]:e.split(",")}function checkIfSocialCollaborationFilePage(e){if("socialcollaboration"===e.cmsvariant&&-1<(getLocationPath()||"").indexOf("filer.html?file="))return 1}function getSocialCollaborationFileName(){var e="";return document.getElementsByTagName("h1")?e=document.getElementsByTagName("h1")[0].textContent:document.getElementsByTagName("h2")?e=document.getElementsByTagName("h2")[0].textContent:document.getElementsByTagName("h3")||document.getElementsByTagName("h4")?e=document.getElementsByTagName("h4")[0].textContent:document.getElementsByTagName("h5")&&(e=document.getElementsByTagName("h5")[0].textContent),e=(e=e.replace(/\n/gi,"")).trim()}function getPageId(e){if("sitevision"==e.cms){var t="";try{t=sv.PageContext.pageId}catch(e){t=""}return checkIfSocialCollaborationFilePage(e)&&(t+="|"+location.search.replace("?file=","")),t}if("wp"==e.cms)for(var n=document.getElementsByTagName("BODY")[0].classList,r=0;r<n.length;r++){if(-1<n[r].indexOf("page-id-"))return n[r].replace("page-id-","");if(-1<n[r].indexOf("postid-"))return n[r].replace("postid-","")}return getLocationPath()}function getPagelang(){var e="def";try{e=document.documentElement.lang}catch(e){}return e}function getTemplateId(e){var t="";if("sitevision"==e.cms){var n=/(91\.[a-z0-9]+)/gi,r="sv-template-asset";try{for(var a=document.getElementsByTagName("script"),i=0;i<a.length;i++)-1<a[i].src.indexOf(r)&&(t=(a[i].src||"").match(n)[0]||"")}catch(e){}if(""===(t=void 0===t?"":t)){var o=document.getElementsByTagName("link");try{for(i=0;i<o.length;i++)-1<(o[i].href||"").indexOf(r)&&(t=o[i].href.match(n)[0]||"")}catch(e){}}}return t=void 0===t?"":t}function addOneMeta(e,t){var n="",r="";try{var a=document.createElement("head"),i=(a.innerHTML=e,a.childNodes[0]);(n=(n=i.getAttribute("name"))||i.getAttribute("property"))&&(r=i.getAttribute("content"))}catch(e){r=n=""}return""!=n&&""!=r&&t.push({name:n,value:r}),t}function checkIfPageShouldBeBlockedBySearchEngines(){try{var t=document.getElementsByTagName("meta");for(let e=0;e<t.length;e++){var n=t[e].getAttribute("name"),r=t[e].getAttribute("content");if(("robots"===n||"googlebot"===n)&&/noindex|nofollow/.test(r))return!0}}catch(e){console.log("checkIfPageShouldBeBlockedBySearchEngines: "+e)}return!1}function collectMetadata(){var t=[],e=(e=["image","description","title","rek_content_h1","rek_content_h2","rek_content_ingress","rek_content_imgurl","keywords"]).concat(["pubdate","moddate","enddate"]),n=document.getElementsByTagName("meta");try{if(n)for(var r of n)for(var a=r.outerHTML,i=0;i<e.length;i++)-1<a.indexOf(e[i])&&(t=addOneMeta(a,t))}catch(e){t=[]}try{var o=document.documentElement.lang||"";t.push({name:"lang",value:o})}catch(e){}try{t.push({name:"blockSearch",value:checkIfPageShouldBeBlockedBySearchEngines()})}catch(e){}return t}function getContenForView(e){var t={ldjson:[]};try{for(var n=document.querySelectorAll('script[type="application/ld+json"]'),r=0;r<n.length;r++){var a=JSON.parse(n[r].innerText);a.hasOwnProperty("@type")&&t.ldjson.push(a)}}catch(e){}return e&&e.hasOwnProperty("linkContent")&&t.ldjson.push(e.linkContent),t}function getAndPushFeatureValue(e,t,n,r){"string"==r?void 0!==n&&""!=n&&(250<n.length&&n.substring(0,250),e.push(getFeatureString(t,n))):"float"==r&&void 0!==n&&isNumber(n)&&(n=parseFloat(n),e.push(getFeatureFloat(t,n)))}function createCFOrCSFArray(e,t,n,r,a,i,o){for(var s=t;s<=n;s++)try{var c,d,l=r+s;(0==i.length||-1<i.indexOf(l))&&(c="rek"+customer.projectid+r+s,d="rek"+r+s,a[c]?getAndPushFeatureValue(e,s,a[c],o):a[d]?getAndPushFeatureValue(e,s,a[d],o):a[l]?getAndPushFeatureValue(e,s,a[l],o):sessionstorageGetItem(c)?getAndPushFeatureValue(e,s,sessionstorageGetItem(c),o):sessionstorageGetItem(d)?getAndPushFeatureValue(e,s,sessionstorageGetItem(d),o):localstorageGetItem(c)?getAndPushFeatureValue(e,s,localstorageGetItem(c),o):localstorageGetItem(d)?getAndPushFeatureValue(e,s,localstorageGetItem(d),o):rekGetCookie(c)?getAndPushFeatureValue(e,s,rekGetCookie(c),o):rekGetCookie(d)&&getAndPushFeatureValue(e,s,rekGetCookie(d),o))}catch(e){console.log("rek.ai: Error while getting custom features."),console.log("rek.ai: e:"+e)}return e}function getSearchQueryParameter(t){try{if(window.location.hash.startsWith("#query/")){var n=decodeURIComponent(window.location.hash.replace("#query/",""));if(n&&""!=n)return n}let e=new URLSearchParams(window.location.search);var r=e.get(t);return null!==r?r:window.location.hash.startsWith("#?")&&(e=new URLSearchParams(window.location.hash.slice(2))).get(t)||""}catch(e){return""}}function getOrgReferer(){var e,t="";try{(t=sessionstorageGetItem("rekOrgRef"))||(sessionstorageSetItem("rekOrgRef",e=-1<(e=(e=document.referrer).replace("http://","").replace("https://","").replace("www.","")).indexOf("/")?e.substring(0,e.indexOf("/")):e),t=e),window.__rekai.orgreferer=t}catch(e){return""}return t}function buildSendObject(e,t,n,r,a){var i=new VisitCalculator,o=new PathHandler,s=getPageId(e),c=getLocationPath(),d=0;try{sessionstorageGetItem("rekclick")&&(d=1,sessionStorage.removeItem("rekclick"))}catch(e){d=0}var l=[],p=(window.rek_customfeature||(window.rek_customfeature={}),window.rek_customfeature||[]),l=createCFOrCSFArray(l,1,20,"f",p,a,"float");l=createCFOrCSFArray(l,21,22,"f",p,a,"string");var p=createCFOrCSFArray([],1,10,"csf",p,a,"string"),a=(a=navigator.language||navigator.userLanguage)||"def",u=new Date,g=document.title,h=(window.rek_custompagetitle&&(g=window.rek_custompagetitle),r.isLink?(g=r.myName,c=r.myUrl,s=r.pageid||c):checkIfSocialCollaborationFilePage(e)&&(g=getSocialCollaborationFileName()),g=(g=""===g&&(h=document.querySelector("h1"))&&""!=(h=h.textContent)?h:g).replace(/[\[\]]/g,""),""),m=(sendreferer&&(h=document.referrer),{});e.sendcontentview&&(m.collectedMetadata=collectMetadata(),window.__rekai.content.ldjson=getContenForView(r),m.ldjson=window.__rekai.content.ldjson);try{window.__rekai.templateId&&""!==window.__rekai.templateId&&(m.templateId=window.__rekai.templateId)}catch(e){}try{var k,w=document.querySelector('meta[name="sdg-tag"]');w&&""!=(k=w.getAttribute("content")||"")&&(m.sdgtag=k)}catch(e){}r=e.projectid;return window.__rekai.viewHCStatus=hasConsent(),w={pn:g,pid:s,mb:rekaiMobile(),mv:i.getVisits(e,!0),mp:o.getSessionPathAsJSON(e),pc:d,cf:l,csf:p,oo:window.overrideObject,p:r,ubl:a,ref:h,ld:u,url:c,content:m,term:"",domain:"",notdomain:"",orgreferer:getOrgReferer(),hc:window.__rekai.viewHCStatus},""!=window.__rekai.entitytype&&""!=window.__rekai.entityid&&(w.entitytype=window.__rekai.entitytype,w.entityid=window.__rekai.entityid),checkIfSocialCollaborationFilePage(e)&&(w.scfile="true"),window.__rekai.addedby&&(w.addedby=window.__rekai.addedby),window.__rekai.orgreferer&&(w.orgreferer=window.__rekai.orgreferer),""!=window.__rekai.seed&&(w.seed=window.__rekai.seed),w}function isNumber(e){return!isNaN(parseFloat(e))&&!isNaN(+e)}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}function sendDataToBackend(e,t,n,r){var a=buildSendObject(e,{},!1,t,[]);delete a.domain,delete a.notdomain,delete a.oo,delete a.pc,delete a.term;try{window.__rekai.transformViewParameters(a)}catch(e){}n&&(a.is404Page=n),(!isRefresh||!isEmpty(a.oo)||runLocaly||t.isLink||e.viewevent||r)&&(window.__rekai.viewSent=!0,n=JSON.stringify(a),t=!0,window.fetch&&"keepalive"in new Request("")&&(t=!1,fetch(viewURL,{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json",Accept:"application/json"},body:n}).catch(e=>{})),t)&&((e=new XMLHttpRequest).open("POST",viewURL),e.responseType="json",e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Accept","application/json"),e.onload=function(){},e.send(n))}function addPathToGetRequest(e){return(new PathHandler).getSessionPathAsString(e)}LinkSorter.prototype={sortLinks:function(e,t){e=JSON.parse(e);""!=t.sortselector&&this.sortBlocks(t.sortselector,t.sortcontainers,e)},addPercent:function(e,t){for(var n=t[parseInt(t.length/2)].percent,r=.1,a=0;a<e.length;a++){for(var i=e[a],o=0,s=0,c=i.querySelectorAll("li"),d=0;d<c.length;d++){for(var l=c[d],p=l.querySelectorAll("a"),u=(0<p.length&&(p=p[0]),0),g=0;g<t.length;g++)if(t[g].url==p.pathname){u=t[g].percent;break}s+=u,0==u&&(u=s/o,isNaN(u)||0==u)&&(u=n),l.setAttribute("data-percent",u),o++}var h=s/o;(isNaN(h)||0==h)&&(h=r),i.setAttribute("data-mean",h),r=h}},sortBlocks:function(e,t,n){var r=document.querySelectorAll(e);if(0<r.length){this.addPercent(r,n.predictions);for(var a=[],i=r.length-1;0<=i;i--)a[i]=r[i];t?a.sort(function(e,t){return e.dataset.mean-t.dataset.mean}):a.reverse();for(var o=r[0].parentNode,i=r.length-1;0<=i;i--)o.removeChild(r[i]);for(i=a.length-1;0<=i;i--){for(var s,c=a[i].querySelectorAll("ul"),d=c[0].parentNode,l=0;l<c.length;l++)"UL"==c[l].tagName&&(s=c[l]);for(var p=[],u=s.children.length-1;0<=u;u--)p.push(s.children[u]);p.sort(function(e,t){return e.dataset.percent-t.dataset.percent});for(var g=p[0].parentNode,u=p.length-1;0<=u;u--)g.removeChild(p[u]);for(var h=p.length-1;0<=h;h--)g.appendChild(p[h]),d.appendChild(g);o.appendChild(a[i]),r[i].classList.add("rek-sorting-done")}}}},window.mobilecheck=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t)?1:-1};var transformRequestString=function(e){return e};function rootPathSettings(e){var t="true"==(t=e.userootpath||"false").toString();if(!(t=e.currentpagequestions?!0:t))return"";var n="",r=e.rootpathlevel||0;try{r=parseInt(r)}catch(e){r=0}r<0&&(r=0);t=e.rootpathprefix||"";if(""===(a=window.__rekai.givenHref||"")){try{a=document.querySelector("link[rel='canonical']").getAttribute("href")}catch(e){a=""}""==a&&(a=window.location.href)}try{var a,i=!1,o=(a!=(a=a.replace(a.match(/^(?:\/\/|[^\/]+)*/),""))&&(i=!0),-1<(a=-1<a.indexOf("?")?a.split("?")[0]:a).indexOf(".")&&(e.currentpagequestions||(a=a.substring(0,a.indexOf(".")))),a.split("/"));if(1<o.length){0==r&&(r=o.filter(function(e){return""!=e}).length);for(var s=0,c=0;c<o.length&&(""==o[c]||(n+="/"+o[c],++s!=r));c++);}}catch(e){n=""}return e.currentpagequestions?n="^"+n+"$":"rekai-qna"===e.entitytype||i||(n="^"+n),n=""!=t?t+":"+n:n}function getPredictionURLParameters(e,t,n){var r=new PathHandler;isEmpty(e)&&(e=getParametersFromContainer([],{}));try{window.__rekai.transformPredictionParameters(e,t)}catch(e){}var a=t.p,i="",o=(""!=e.projectid&&(i=window.__rekai.customer.projectid||"",a=e.projectid),"?mb="+t.mb),a=(o=(o=(o+="&vt="+t.mv.vt)+("&v30="+t.mv.v30))+("&dlv="+t.mv.dlv)+("&p="+a),""!=i&&(o+="&bp="+i),o+="&ubl="+t.ubl,e.nrofhits),i=(t.hasOwnProperty("nrofhits")&&(a=t.nrofhits),e.hasOwnProperty("renderstyle")&&"advanced"==e.renderstyle&&a++,""!=e.verifyurl&&(a*=3),e.filter_exclude_onpagelinks&&(a*=3),o+="&nr="+a,rootPathSettings(e));""==e.subtree&&""==i||(-1<(a=-1<(a=(a="")!=e.subtree&&""!=i?e.subtree+","+i:e.subtree+i).indexOf(".html/")?a.replace(".html/","/"):a).indexOf(".htm/")&&(a=a.replace(".htm/","/")),o+="&subtree="+encodeURIComponent(a)),""!=e.gettermfromqueryparameter&&""!=(i=getSearchQueryParameter(e.gettermfromqueryparameter))&&null!=i&&(o+="&term="+encodeURIComponent(i),window.__rekai.termFromQuery=i),""!=e.excludetree&&(-1<(a=-1<(a=e.excludetree).indexOf(".html/")?a.replace(".html/","/"):a).indexOf(".htm/")&&(a=a.replace(".htm/","/")),o+="&excludetree="+encodeURIComponent(a)),""!=e.subtreeexternal&&(o+="&subtreeexternal="+encodeURIComponent(e.subtreeexternal)),""!=e.excludetreeexternal&&(o+="&excludetreeexternal="+encodeURIComponent(e.excludetreeexternal)),(e.addcontent||"content"==e.renderstyle||"advanced"==e.renderstyle||e.useh1forcontent)&&(o+="&addcontent=true"),e.tree&&(o+="&tree=true"),""!=e.treelvl&&(o+="&treelvl="+e.treelvl),""!=e.maxpathdepth&&(o+="&maxpathdepth="+e.maxpathdepth),""!=e.minpathdepth&&(o+="&minpathdepth="+e.minpathdepth),""!=e.pagetype&&(o+="&pagetype="+encodeURIComponent(e.pagetype)),""!=e.notpagetype&&(o+="&notpagetype="+encodeURIComponent(e.notpagetype)),""!=e.srek&&(o+="&srek="+e.srek),""!=e.ldjsontype&&(o+="&ldjsontype="+encodeURIComponent(e.ldjsontype)),e.returnjsonld&&(o+="&returnjsonld=true");for(var s=0;s<t.cf.length;s++)o+="&f"+t.cf[s].id+"="+encodeURIComponent(t.cf[s].value);for(s=0;s<t.csf.length;s++)o+="&csf"+t.csf[s].id+"="+encodeURIComponent(t.csf[s].value);o+="&pl="+getPagelang();i=r.getTabsPathAsString(),""!=i&&(o+="&tabs="+encodeURIComponent(i)),""==e.nrofcontextualhits&&0!==e.nrofcontextualhits||(o+="&nrofcontextualhits="+e.nrofcontextualhits),""==e.nrofembeddedhits&&0!==e.nrofembeddedhits||(o+="&nrofembeddedhits="+e.nrofembeddedhits),""!=e.maxnrofdays&&(o+="&maxnrofdays="+e.maxnrofdays),a=getSingleTab(i);if(""!=a&&(o+="&singletab="+encodeURIComponent(a)),""!=e.co&&(o+="&co="+encodeURIComponent(e.co)),""!=e.ci&&(o+="&ci="+encodeURIComponent(e.ci)),""!=e.di&&(o+="&di="+encodeURIComponent(e.di)),""!=e.lat&&(o+="&lat="+e.lat),""!=e.lon&&(o+="&lon="+e.lon),""!=e.term?o+="&term="+encodeURIComponent(e.term):""!=t.term&&(o+="&term="+encodeURIComponent(t.term)),""!=e.domain?o+="&domain="+encodeURIComponent(e.domain):""!=t.domain&&(o+="&domain="+encodeURIComponent(t.domain)),""!=e.notdomain?o+="&notdomain="+encodeURIComponent(e.notdomain):""!=t.notdomain&&(o+="&notdomain="+encodeURIComponent(t.notdomain)),""!=e.entitytype?o+="&entitytype="+encodeURIComponent(e.entitytype):e.currentpagequestions&&(o+="&entitytype=rekai-qna"),e.ignorelabels&&(o+="&ignorelabels=true"),e.advanced_mockdata&&(o+="&advanced_mockdata=true"),e.filter_exclude_currentpage&&(o+="&filter_exclude_currentpage=true"),e.hidetestresult&&(o+="&hidetestresult=true"),e.blocknlp&&(o+="&blocknlp=true"),""!=e.allowedlangs?o+="&allowedlangs="+encodeURIComponent(e.allowedlangs):t.allowedlangs&&""!=t.allowedlangs&&(o+="&allowedlangs="+encodeURIComponent(t.allowedlangs)),window.__rekai.orgreferer&&(o+="&orgreferer="+encodeURIComponent(window.__rekai.orgreferer)),""!=e.visitedcategory&&(o+="&visitedcategory="+encodeURIComponent(window.__rekai.visitedcategory)),""!=e.filtercategory&&(o+="&filtercategory="+encodeURIComponent(e.filtercategory)),e.categoryproductprediction&&(o+="&categoryproductprediction=true"),-1!=e.nrofdifferentcategoires&&(o+="&nrofdifferentcategoires="+e.nrofdifferentcategoires),-1!=e.levelofcategory&&(o+="&levelofcategory="+e.levelofcategory),-1!=e.nrofproductsineachcategory&&(o+="&nrofproductsineachcategory="+e.nrofproductsineachcategory),-1!=e.productprojectid&&(o+="&productprojectid="+e.productprojectid),-1!=e.availableatbranch&&(o+="&availableatbranch="+e.availableatbranch),""!=e.tags&&(o+="&tags="+encodeURIComponent(e.tags)),t.timeseriesdate&&(o+="&timeseriesdate="+t.timeseriesdate),""!=window.__rekai.seed&&(o+="&seed="+window.__rekai.seed),""!=e.questionsfirst&&(o+="&questionsfirst="+encodeURIComponent(e.questionsfirst)),""!=e.dateformat&&(o+="&dateformat="+encodeURIComponent(e.dateformat)),""!=e.alwaysfirst&&(o+="&alwaysfirst="+encodeURIComponent(e.alwaysfirst)),-1!=e["hits:links"]&&(o+="&hits:links="+e["hits:links"]),-1!=e["hits:questions"]&&(o+="&hits:questions="+e["hits:questions"]),checkIf404Page(window.__rekai.customer)&&(o+="&is404Page=true"),e.hasOwnProperty("ldjsonfilter"))for(s=0;s<e.ldjsonfilter.length;s++)o+="&"+e.ldjsonfilter[s].name+"="+encodeURIComponent(e.ldjsonfilter[s].value);try{var c=window.location.pathname;""!=c&&(o+="&currentp="+encodeURIComponent(c))}catch(e){}try{var d=getPageId(n);""!=d&&(o+="&currentid="+encodeURIComponent(d))}catch(e){}try{o+="&pn="+encodeURIComponent(t.pn)}catch(e){}r=addPathToGetRequest(n);""!=r&&o.length+r.length<1800&&(o+=r);try{var l=rekGetCookie("adminfunction");l?o+="&adminfunction="+l:""!=e.adminfunction&&(o+="&adminfunction="+e.adminfunction)}catch(e){}""!=e.embeddingterm&&(o+="&embeddingterm="+encodeURIComponent(e.embeddingterm)),e.unranked&&(o+="&unranked=true"),e.forceembedding&&(o+="&forceembedding=true"),""!=e.maxsimilarity&&(o+="&maxsimilarity="+encodeURIComponent(e.maxsimilarity)),""!=e.maxsimilarityquestions&&(o+="&maxsimilarityquestions="+encodeURIComponent(e.maxsimilarityquestions)),e.onlyembeddings&&(o+="&onlyembeddings=true"),e.orderbypercentage&&(o+="&orderbypercentage=true"),""!=e.format&&(o+="&format="+encodeURIComponent(e.format)),""!=e.mincharsforembedding&&(o+="&mincharsforembedding="+encodeURIComponent(e.mincharsforembedding));try{o=window.__rekai.transformRequestString(o)}catch(e){}return o}function overwriteSendObject(e,t){if(t)try{for(var n in t){var r=!1;if(t.hasOwnProperty(n))if(-1<n.indexOf("csf")){for(var a=n.replace("csf",""),i=0;i<e.csf.length;i++)e.csf[i].id==a&&(e.csf[i].value=t[n],r=!0);r||getAndPushFeatureValue(e.csf,a,t[n],"string")}else if(-1<n.indexOf("cf")){for(var o=n.replace("cf",""),i=0;i<e.cf.length;i++)e.cf[i].id==o&&(e.cf[i].value=t[n],r=!0);r||getAndPushFeatureValue(e.cf,o,t[n],o<21?"float":"string")}else e[n]=t[n]}}catch(e){console.log("rek.ai error when overwriting prediction object: "+e)}return e}function setToCorrectLength(e,t){t=t.nrofhits||10,t=Math.min(e.predictions.length,t);return e.predictions=e.predictions.slice(0,t),e}function verifyPageIds(e,t,n){try{for(var r=new XMLHttpRequest,a=(r.open("POST",e),r.setRequestHeader("Accept","application/json"),"application/json"),i=(-1<e.indexOf("/12.")&&(a="application/x-www-form-urlencoded"),r.setRequestHeader("Content-Type",a),JSON.parse(JSON.stringify(t))),o=[],s=0;s<i.predictions.length;s++)o.push(i.predictions[s].pageid);var c={ids:o},c=JSON.stringify(c);r.onload=function(){var e=JSON.parse(r.response),t=-1;try{for(t=i.predictions.length||-1;t--;)-1==e.indexOf(i.predictions[t].pageid)&&i.predictions.splice(t,1)}catch(e){}n(i)},r.send(c)}catch(e){n(t)}}function checkIfLinksBeenAdded(e){var t=getAllLinksInDOM();try{addEventsJSRendererLinks(e,t)}catch(e){console.log("rek.ai: addEventsJSRendererLinks e:"+e)}}function transferOptions(e){return e.container=void 0===e.container?{}:e.container,null!=e.params?e.overwrite=e.params:void 0===e.overwrite&&(e.overwrite={}),e.operations=void 0===e.operations?[]:e.operations,e}let currentAutocompleteController=null;function predictAutocomplete(e,n,r){try{var t=n.overwrite||n.params||{},a=n.projectid||"",i=n.cms||"",o=JSON.parse(JSON.stringify(__rekai.customer)),s=n.baseUrl||__rekai.predictUrl,c=(("string"==typeof a&&0<a.length||"number"==typeof a)&&(o.projectid=a),0<i.length&&"string"==typeof i&&(o.cms=i),getParametersFromContainer(t)),d=buildSendObject(o,{},!0,{isLink:!1},[]),l=s,p="",u=(n.verifyurl&&"string"==typeof n.verifyurl&&0<n.verifyurl.length?p=n.verifyurl:t&&t.verifyurl&&"string"==typeof t.verifyurl&&0<t.verifyurl.length&&(p=t.verifyurl),sanitizeSearchQuery(e));if(u.length<1)return r([],"rek.ai: empty query");if(l+=getPredictionURLParameters(c,d,o),n.secret&&"string"==typeof n.secret&&(l+="&srek="+n.secret),!1!==n.log&&"false"!==n.log&&0!==n.log||(l+="&log=false"),n.userootpath){var g={userootpath:!0,rootpathlevel:n.rootpathlevel,rootpathprefix:n.rootpathprefix};try{l+="&subtree="+rootPathSettings(g)}catch(e){}}l+="&rt=flat&keywords=true&term="+encodeURIComponent(u),window.__rekai.customAutocompleteTransform&&"function"==typeof window.__rekai.customAutocompleteTransform&&(l=window.__rekai.customAutocompleteTransform(l)),fetch(l).then(e=>e.json()).then(e=>{if(p&&0<p.length&&0<e.length)verifyPrediction(p,e,n,r);else{try{window.__rekai.sortResult&&(e=window.__rekai.sortResult(e)),window.sortResult&&(e=window.sortResult(e))}catch(e){var t="Error in custom sort e:"+e;if(console.log(t),r&&"function"==typeof r)return r([],t)}if(r&&"function"==typeof r)return r(e,void 0)}}).catch(e=>{if("AbortError"!==e.name)throw e})}catch(e){r&&"function"==typeof r&&r([],"rek.ai error when predicting autocomplete: "+e)}}function verifyPrediction(e,r,a,i){var t={"Content-Type":"application/json",Accept:"application/json"},n=(-1<e.indexOf("/12.")&&(t["Content-Type"]="application/x-www-form-urlencoded"),r.map(e=>e.pageid));fetch(e,{method:"POST",headers:t,body:JSON.stringify({ids:n})}).then(e=>e.json()).then(t=>{var e,n=r.filter(e=>t.includes(e.pageid));window.__rekai.sortResult&&(n=window.__rekai.sortResult(n)),window.sortResult&&(n=window.sortResult(n)),a.params&&(e=a.params.nrofhits||10,e=Math.min(n.length,e),n=n.slice(0,e)),i&&"function"==typeof i&&i(n,void 0)}).catch(e=>{e="rek.ai error when verifying rek.ai autocomplete: "+e;console.error(e),i&&"function"==typeof i&&i([],e)})}function predict(e,t){e.customer=e.customer||window.__rekai.customer,checkAndAddCurrentPageToPath(e.customer),t?(e&&(JSON.stringify("{}"==e)&&(e.customer=window.__rekai.customer),!e.hasOwnProperty("projectid"))||((e={}).customer=window.__rekai.customer),predictInternal((e=transferOptions(e)).customer,e.container,e.overwrite,e.operations,t)):"function"==typeof e?predictInternal(window.__rekai.customer,{},{},[],e):predictInternal((e=transferOptions(e)).customer,e.container,e.overwrite,e.operations,t)}function predictInternal(customer,container,overwrite,operations,customCallbackFunction){container=container||{},container.dataset||(container.dataset=[]);var linkObject={isLink:!1},operations=operations||[],parameters=getParametersFromContainer(container.dataset,overwrite),mainElement;if(!0===parameters.currentpagequestions&&(container instanceof Element?container.hasAttribute("data-entitytype")||container.setAttribute("data-entitytype","rekai-qna"):container.dataEntityType||(container.dataEntityType="rekai-qna")),""==parameters.onlyprojectid||customer.projectid==parameters.onlyprojectid){try{""!=parameters.sortselector&&(mainElement=document.querySelectorAll(parameters.sortselector),setTimeout(function(){for(var e=mainElement.length-1;0<=e;e--)mainElement[e].classList.add("rek-sorting-done")},700))}catch(e){}var usecf=datausecfToArr(parameters.usecf),tempCustomerForPrediction={cms:customer.cms,projectid:customer.projectid,page404title:customer.page404title,sendcontentview:customer.sendcontentview,cmsvariant:customer.cmsvariant,readdatafromproject:customer.readdatafromproject},sendObject=(parameters.hasOwnProperty("projectid")&&""!=parameters.projectid&&(tempCustomerForPrediction.projectid=parameters.projectid),parameters.hasOwnProperty("cms")&&""!=parameters.cms&&(tempCustomerForPrediction.cms=parameters.cms),buildSendObject(tempCustomerForPrediction,{},!0,linkObject,usecf)),params=(sendObject.operations=operations,sendObject=overwriteSendObject(sendObject,overwrite),getPredictionURLParameters(parameters,sendObject,tempCustomerForPrediction)),doPost=!1;try{0<sendObject.operations.length&&(doPost=!0)}catch(e){doPost=!1}var doParameterCallback=!1,parameterCallbackfunction;if(""!=parameters.callback)try{parameterCallbackfunction=eval(parameters.callback),"function"==typeof parameterCallbackfunction&&(doParameterCallback=!0)}catch(e){console.log("rek.ai: Error when calling paramteter callback"),console.log("rek.ai: e:"+e)}var xhr=new XMLHttpRequest;doPost?(xhr.open("POST",predictUrl),xhr.setRequestHeader("Content-Type","application/json"),xhr.setRequestHeader("Accept","application/json")):xhr.open("GET",predictUrl+params),xhr.onload=function(){var e=!1,t=parameters.verifyurl||"",n=customCallbackFunction&&"function"==typeof customCallbackFunction;if(n||doParameterCallback){e=!0;try{var r=JSON.parse(xhr.response),a=(parameters.filter_exclude_onpagelinks&&(r=filterUrls(r,parameters)),getAllLinksInDOM());""===t?(r=setToCorrectLength(r,parameters),n?customCallbackFunction(r,overwrite):parameterCallbackfunction(JSON.stringify(r),container),checkIfLinksBeenAdded(a)):verifyPageIds(t,r,function(e){e=setToCorrectLength(e,parameters),n?customCallbackFunction(e,overwrite):parameterCallbackfunction(JSON.stringify(e),container),checkIfLinksBeenAdded(a)})}catch(e){console.log("rek.ai: Error when calling custom callback"),console.log("rek.ai: e:"+e)}}e||(r=JSON.parse(xhr.response),""===t?afterPredictionAndVerify(r,container,tempCustomerForPrediction,overwrite,parameters):verifyPageIds(t,r,function(e){afterPredictionAndVerify(e,container,tempCustomerForPrediction,overwrite,parameters)}))},doPost?xhr.send(JSON.stringify(sendObject)):xhr.send()}}function afterPredictionAndVerify(e,t,n,r,a){"sort"==a.renderstyle?(new LinkSorter).sortLinks(e,a):""==a.callback&&fillWithLinks(e,t,n,r)}function insertParam(e,t,n){e=-1==e.indexOf("?")?e+"?"+t+"="+n:e+"&"+t+"="+n}function renderPredictions(e,t,n){n=n||null,fillWithLinks(e,t,window.__rekai.customer,n)}function filterUrls(r,a){try{if(!r.predictions||0===r.predictions.length)return r;let t=e=>{if(!e)return"";try{return new URL(e,document.baseURI).href.replace(/\/+$/,"").toLowerCase()}catch(e){return""}},e=a.filter_exclude_onpagelinks_except_inside?a.filter_exclude_onpagelinks_except_inside.split(",").map(e=>e.trim()):[],n=new Set(Array.from(document.querySelectorAll("a")).filter(t=>0===e.length||!e.some(e=>t.closest(""+e))).map(e=>t(e.getAttribute("href"))).filter(e=>""!==e));r.predictions=r.predictions.filter(e=>!n.has(t(e.url)))}catch(e){console.log("filterUrls error:",e)}return r}function fillWithLinks(e,t,n,r){var a=new Renderer;(r=overwriteSendObject(getParametersFromContainer(t.dataset,{}),r)).filter_exclude_onpagelinks&&(e=filterUrls(e,r));try{for(var i=t.getElementsByClassName("rek-loading-wrapper"),o=0;o<i.length;o++)t.removeChild(i[o])}catch(e){console.log("fillWithLinks e:"+e)}t&&e&&("content"==r.renderstyle?a.renderAsContent(t,e,r):"advanced"==r.renderstyle?a.renderAsAdvanced(t,e,r):"rekai-faq"===r.entitytype||"rekai-qna"===r.entitytype?renderQuestionsAsAccordions(t,e,r):a.renderAsList(t,e,r)),addListenersToLinks(n);try{rekPredictionDone()}catch(e){}}function addListenersToLinks(e){e=e||window.__rekai.customer;for(var t=[],n=document.getElementsByClassName("rek-link-listener"),r=0;r<n.length;r++){var a=n[r];if("A"==a.tagName)a.classList.contains("rek-event-added")||(a.classList.add("rek-event-added"),t.push(a));else for(var i=a.getElementsByTagName("a"),o=0;o<i.length;o++){var s=i[o];s.classList.contains("rek-event-added")||(s.classList.add("rek-event-added"),t.push(s))}}for(r=0;r<t.length;r++)addExternalClickToALink(t[r])}function addExternalClickToALink(t){t.addEventListener("click",function(e){addTheEventToLink(t)})}function addTheEventToLink(e){var t=e.getAttribute("target"),n=(null==t&&(t="_self"),e.textContent),r=e.getAttribute("href"),a={},e=(e.getAttribute("data-rek-title")&&(a.rektitle=e.getAttribute("data-rek-title")),e.getAttribute("data-rek-image")&&(a.rekimage=e.getAttribute("data-rek-image")),e.getAttribute("data-rek-description")&&(a.rekdescription=e.getAttribute("data-rek-description")),e.getAttribute("data-rek-url")&&(a.rekurl=e.getAttribute("data-rek-url")),e.getAttribute("data-rek-enddate")&&(a.rekenddate=e.getAttribute("data-rek-enddate")),e.getAttribute("data-rek-pubdate")&&(a.pubdate=e.getAttribute("data-rek-pubdate")),e.getAttribute("data-rek-pagetype")&&(a.pagetype=e.getAttribute("data-rek-pagetype")),{isLink:!0,myName:n.trim(),myUrl:r,myTarget:t});(a.rektitle||a.rekimage||a.rekdescription||a.rekurl||a.enddate||a.pubdate)&&(e.linkContent=a),sendDataToBackend(customer,e,!1,!1)}function getViewclickMetadataFromHead(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("rek_viewclick"==e[t].getAttribute("name"))return 1}function checkSoNotBot(){for(var e=navigator.userAgent,t=["Googlebot","Google (+https://developers.google.com/+/web/snippet/)","bingbot.htm","Yahoo! Slurp","DuckDuckBot","Baiduspider","YandexBot","Sogou","facebookexternalhit","www.alexa.com"],n=0;n<t.length;n++)if(-1<e.toLowerCase().indexOf(t[n].toLowerCase()))return;return 1}function rekGetCookie(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function getArrayOfAllParameters(){return[{n:"nrofhits",t:"i",d:10},{n:"maxpathdepth",t:"i"},{n:"minpathdepth",t:"i"},{n:"subtree",t:"s"},{n:"excludetree",t:"s"},{n:"subtreeexternal",t:"s"},{n:"excludetreeexternal",t:"s"},{n:"callback",t:"s"},{n:"usecf",t:"s"},{n:"treelvl",t:"s"},{n:"projectid",t:"s"},{n:"onlyprojectid",t:"s"},{n:"renderstyle",t:"s"},{n:"listcols",t:"s"},{n:"stripecolor",t:"s"},{n:"sortselector",t:"s"},{n:"useh1forcontent",t:"b"},{n:"addcontent",t:"b"},{n:"tree",t:"b"},{n:"addstripes",t:"b"},{n:"hideimage",t:"b"},{n:"linkedheader",t:"b"},{n:"printdate",t:"b"},{n:"sortcontainers",t:"b"},{n:"pagetype",t:"s"},{n:"notpagetype",t:"s"},{n:"srek",t:"s"},{n:"co",t:"s"},{n:"ci",t:"s"},{n:"di",t:"s"},{n:"ldjsontype",t:"s"},{n:"returnjsonld",t:"b"},{n:"lat",t:"s"},{n:"lon",t:"s"},{n:"cms",t:"s"},{n:"term",t:"s"},{n:"domain",t:"s"},{n:"notdomain",t:"s"},{n:"styling",t:"s"},{n:"ignorelabels",t:"b"},{n:"hidetestresult",t:"b"},{n:"allowedlangs",t:"s"},{n:"userootpath",t:"b"},{n:"rootpathlevel",t:"i"},{n:"rootpathprefix",t:"s"},{n:"timeseriesdate",t:"s"},{n:"source",t:"s"},{n:"template",t:"s"},{n:"cols",t:"i",d:2},{n:"selector",t:"s"},{n:"headertext",t:"s"},{n:"headerid",t:"s"},{n:"headerheadinglevel",t:"i",d:2},{n:"headerfontclass",t:"s"},{n:"titlefontclass",t:"s"},{n:"titleheadinglevel",t:"i",d:0},{n:"titlemaxlength",t:"i",d:100},{n:"ingressmaxlength",t:"i",d:100},{n:"showingress",t:"b",d:"true"},{n:"ingressfontclass",t:"s"},{n:"ingressheadinglevel",t:"i",d:0},{n:"showimage",t:"b",d:"true"},{n:"fallbackimgsrc",t:"s"},{n:"defaultimageurl",t:"s"},{n:"showdate",t:"b"},{n:"datefontclass",t:"s"},{n:"visitedcategory",t:"s"},{n:"filtercategory",t:"s"},{n:"categoryproductprediction",t:"b"},{n:"nrofdifferentcategoires",t:"i",d:-1},{n:"levelofcategory",t:"i",d:-1},{n:"nrofproductsineachcategory",t:"i",d:-1},{n:"productprojectid",t:"i",d:-1},{n:"availableatbranch",t:"i",d:-1},{n:"verifyurl",t:"s"},{n:"excludechildnodes",t:"b"},{n:"blocknlp",t:"b"},{n:"entitytype",t:"s"},{n:"nrofcontextualhits",t:"i"},{n:"nrofembeddedhits",t:"i"},{n:"adminfunction",t:"s"},{n:"tags",t:"s"},{n:"questionsfirst",t:"b"},{n:"hits:questions",t:"i",d:-1},{n:"hits:links",t:"i",d:-1},{n:"filter_exclude_onpagelinks",t:"b"},{n:"filter_exclude_onpagelinks_except_inside",t:"s"},{n:"filter_exclude_currentpage",t:"b"},{n:"advanced_mockdata",t:"b"},{n:"embeddingterm",t:"s"},{n:"forceembedding",t:"b"},{n:"dateformat",t:"s"},{n:"text_read_about_answer",t:"s"},{n:"text_read_about_answer_no_title",t:"s"},{n:"text_read_about_answer_link",t:"s"},{n:"alwaysfirst",t:"s"},{n:"maxnrofdays",t:"i"},{n:"unranked",t:"b"},{n:"currentpagequestions",t:"b"},{n:"disablehighlight",t:"b"},{n:"maxsimilarity",t:"s"},{n:"maxsimilarityquestions",t:"s"},{n:"onlyembeddings",t:"b"},{n:"format",t:"s"},{n:"mincharsforembedding",t:"i"},{n:"orderbypercentage",t:"b"},{n:"gettermfromqueryparameter",t:"s"}]}function getParametersFromContainer(e,t){t=t||{};for(var n,r=getArrayOfAllParameters(),a={ldjsonfilter:[]},i=0;i<r.length;i++){var o=r[i];if("i"==o.t){var s="";o.hasOwnProperty("d")&&(s=o.d);try{var c=!1;try{var d=e[o.n];d&&"0"==d&&(c=!(a[o.n]=0))}catch(e){}c||(a[o.n]=parseInt(e[o.n])||s)}catch(e){a[o.n]=s}}else"s"==o.t?(s="",o.hasOwnProperty("d")&&(s=o.d.toLowerCase()),a[o.n]=e[o.n]||s):(a[o.n]=!1,r[i].hasOwnProperty("d")&&"true"===r[i].d&&(a[o.n]=!0),"string"==typeof e[o.n]?"true"==e[o.n].toLowerCase()?a[o.n]=!0:"false"==e[o.n].toLowerCase()&&(a[o.n]=!1):"boolean"==typeof e[o.n]&&(a[o.n]=e[o.n]));t.hasOwnProperty(o.n)&&("string"==typeof t[o.n]?"true"==t[o.n].toLowerCase()?a[o.n]=!0:a[o.n]=t[o.n]:"number"!=typeof t[o.n]&&"boolean"!=typeof t[o.n]||(a[o.n]=t[o.n]))}try{for(var l in t)-1<l.indexOf("ldjsonfilter")&&a.ldjsonfilter.push({name:l,value:t[l]});for(var l in e)-1<l.indexOf("ldjsonfilter")&&a.ldjsonfilter.push({name:l,value:e[l]})}catch(e){}try{a.excludechildnodes&&(n=window.location.pathname.replace(/^\/|\/$/g,"").split("/").length,a.minpathdepth=n+=2)}catch(e){}return a}function checkIf404Page(e){var t=document.title;try{window.rek_custompagetitle&&(t=window.rek_custompagetitle)}catch(e){}try{for(var t=t.toLowerCase(),n=e.page404title.split(","),r=0;r<n.length;r++){var a=n[r].trim().toLowerCase();if(-1<t.indexOf(a))return!0}}catch(e){}return!1}var firstRemove=!0;function checkForProxySettings(){try{var e,t;window.hasOwnProperty("rek_customsettings")&&(e=!1,"1"==rekGetCookie("localpredict")&&(e=!0),t=!1,"1"==rekGetCookie("localview")&&(t=!0),e||window.rek_customsettings.hasOwnProperty("proxypredict")&&(predictUrl=window.rek_customsettings.proxypredict),window.rek_customsettings.hasOwnProperty("proxyview"))&&!t&&(viewURL=window.rek_customsettings.proxyview)}catch(e){console.log("rek.ai: Error in proxy settings"),console.log("rek.ai: e:"+e)}}function checkAndAddCurrentPageToPath(e){var t;window.__rekai.hasAddedToPath||(window.__rekai.hasAddedToPath=!0,sessionstorageGetItem(t="last"+e.projectid)==getLocationPath()?isRefresh=!0:((new PathHandler).addToSessionPath(getPageId(e),e),sessionstorageSetItem(t,getLocationPath())))}function isPathOkToSendToBackend(){try{if(viewurlfilters.test(window.location.pathname))return 1}catch(e){return void console.log("viewurlfilters e:"+e)}}function checkAndSaveView(e){var t=rekGetCookie("rekblock")||"0";if(isPathOkToSendToBackend()&&checkSoNotBot()&&"0"===t){var t={isLink:!1},n=window.rek_blocksaveview||!1,r=checkIf404Page(e);if(r||window.__rekai.errorpage)sendDataToBackend(e,t,r,!1);else{var a;e.projectid;shouldSaveClickToDatabase=window.rek_viewclick||!1;try{"all"===sendviews&&(shouldSaveClickToDatabase=!0)}catch(e){}if(!shouldSaveClickToDatabase)try{void 0===window.__rekai.appdata||null!=(a=window.rek_viewclick)&&!a||(shouldSaveClickToDatabase=!0)}catch(e){shouldSaveClickToDatabase=!1}window.rek_vieweventprojectid||(window.rek_vieweventprojectid=e.projectid),shouldSaveClickToDatabase||getViewclickMetadataFromHead()&&(shouldSaveClickToDatabase=!0),shouldSaveClickToDatabase||window.rek_viewclickprojectid&&-1<window.rek_viewclickprojectid.toString().indexOf(e.projectid.toString())&&(shouldSaveClickToDatabase=!0),e.viewevent&&window.rek_vieweventprojectid&&-1<window.rek_vieweventprojectid.toString().indexOf(e.projectid.toString())&&(shouldSaveClickToDatabase=!0),checkAndAddCurrentPageToPath(e);try{shouldSaveClickToDatabase&&1!=saveviewpercentage&&Math.random()>saveviewpercentage&&(shouldSaveClickToDatabase=!1)}catch(e){console.log("rek.ai error in ramdom saveview")}!shouldSaveClickToDatabase||n||sendDataToBackend(e,t,!1,!1)}}}function checkAndCreatePredictions(e){e=e||window.__rekai.customer;var t=document.getElementsByClassName("rek-prediction");if(0<t.length)for(var n=0;n<t.length;n++)firstRemove=!0,predictInternal(e,t[n],{},[],null);else addListenersToLinks(e)}function sendView(){var e=window.__rekai.customer;e.viewevent=!0,checkAndSaveView(e)}function eventAddToSessionPath(e){(new PathHandler).addToSessionPath(getPageId(e),e)}function addEventsToExternalDomains(){for(var e=0;e<externalDomains.length;e++)externalDomains[e].hasOwnProperty("savefilter")&&addEventToOneSaveFilter(externalDomains[e].savefilter)}function addEventsToFragments(){setTimeout(function(){try{for(var e=document.querySelectorAll("[data-rek-item-type]")||[],t=0;t<e.length;t++){var n=e[t];"fragment"==(n.dataset.rekItemType||"")&&n.addEventListener("click",function(e){var t,n,r,e=e.currentTarget||null;e&&(t=e.dataset.rekItemTitle||"",n=e.dataset.rekItemId||"",r=e.dataset.rekItemTarget||"",-1==sentFragmentViews.indexOf(n))&&(sentFragmentViews.push(n),window.__rekai.transformViewParameters=function(e){e.fragment={},e.fragment.itemtype="fragment",e.fragment.itemtitle=t,e.fragment.itemid=n,e.fragment.itemtarget=r},window.__rekai.sendView())})}}catch(e){}},2e3)}function addEventsToEntityFaq(){setTimeout(function(){try{for(var e=document.querySelectorAll(".rekai-accordion__trigger-view")||[],t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();e=this.dataset.rekEntityid;void 0!==e&&-1==window.__rekai.allClickedFAQs.indexOf(e)&&(window.__rekai.allClickedFAQs.push(e),window.__rekai.entitytype="rekai-faq",window.__rekai.entityid=e,window.__rekai.sendView())})}catch(e){console.log("rek.ai: "+e)}},1e3)}function cleanUrl(e){var t=e;try{return e.match(/(http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/gi)[0]}catch(e){return t}}function addEventToOneSaveFilter(e){try{var t=RegExp(e,"i"),n=document.querySelectorAll("a");window.rek_vieweventprojectid=window.__rekai.customer.projectid;for(let e=0;e<n.length;e++){var r=n[e];t.test(r.href)&&r.addEventListener("click",function(e){var n=e.currentTarget;window.__rekai.transformViewParameters=function(e){e.pn=n.textContent.trim();var t=cleanUrl(n.href);e.url=t},window.__rekai.sendView()})}}catch(e){console.log("rek.ai: "+e)}}function checkURLChangeContinuously(e){var t=cleanLocalPath(getLocationPath());urlChangesArray.push(t)}function automaticallyAddCustomFeatures(e){}function sanitizeSearchQuery(e){var t;let n=e;for(t of[/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}\b/gi,/\b\d{10,13}\b/g,/\b(?:19|20)?\d{6}[- ]?\d{4}\b/g,/\b(?:\d[ -]*?){13,16}\b/g,/\b[A-Z]{3}\s?\d{3}\b/gi,/\b[A-Z]{3}\s?\d{2}[A-Z]\b/gi])n=n.replace(t,"").trim();return n=n.replace(/\s+/g," ")}function CookiebotCallback_OnAccept(){(window.Cookiebot&&window.Cookiebot.consent&&window.Cookiebot.consent.statistics?setCookiebotAccepted:setCookiebotDenied)()}function CookiebotCallback_OnDecline(){window.__rekai.useconsent&&setCookiebotDenied()}function setCookiebotAccepted(){window.__rekai.consentaccepted=!0,window.localStorage.setItem("rekai_consent_accepted","true")}function setCookiebotDenied(){window.__rekai.consentaccepted=!1,window.localStorage.removeItem("rekai_consent_accepted"),window.__rekai.removeLocalAndSessionStorage()}function styleInject(e=""){var t,n,r;window.__rekai.appendCss&&"undefined"!=typeof document&&(t=cssStyles,n=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css","string"==typeof e&&""!==e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),n.appendChild(r))}window.CookiebotCallback_OnAccept=CookiebotCallback_OnAccept,window.CookiebotCallback_OnDecline=CookiebotCallback_OnDecline;var customer={cms:customerCMS,projectid:projectId,page404title:page404title,sendcontentview:sendcontentview,cmsvariant:cmsvariant,viewevent:!1};function init(){window.Cookiebot&&window.Cookiebot.consent&&window.Cookiebot.consent.statistics&&setCookiebotAccepted(),styleInject(window.__rekai.nonce);(new VisitCalculator).getVisits(customer,!1),checkForProxySettings(customer),automaticallyAddCustomFeatures(customer),getOrgReferer();checkAndSaveView(customer),checkAndCreatePredictions(customer),addEventsToExternalDomains(),addEventsToFragments(),addEventsToEntityFaq(),addGenericEventTracking(),runFunctions();var e=new Event("rekai.load");window.dispatchEvent(e),checkAndAddEventsToDOM(),checkURLChangeContinuously(customer),autoRemoveLocalAndSessionStorage()}function runFunctions(){if(0<window.__rekai.readyQueue.length)for(let e=0;e<window.__rekai.readyQueue.length;e++)try{window.__rekai.readyQueue[e]()}catch(e){console.error("rek.ai: error in readyQueue "+e)}}function rekcompleted(){window.__rekai.hasRun||(window.__rekai.hasRun=!0,document.removeEventListener("DOMContentLoaded",rekcompleted),window.removeEventListener("load",rekcompleted),init())}"sitevision"==customer.cms&&(linkPreamble="Gå till nyhet om "),window.__rekai=window.__rekai||{},window.__rekai.customer=customer,window.__rekai.buildSendObject=buildSendObject,window.__rekai.getPredictionURLParameters=getPredictionURLParameters,window.__rekai.getParametersFromContainer=getParametersFromContainer,window.__rekai.checkAndCreatePredictions=checkAndCreatePredictions,window.__rekai.sendView=sendView,window.__rekai.addEventsToExternalDomains=addEventsToExternalDomains,window.__rekai.viewSent=!1,window.__rekai.predictionSent=!1,window.__rekai.exitEventSent=!1,window.__rekai.viewHCStatus=!1,window.__rekai.hasAddedToPath=!1,window.__rekai.entitytype="",window.__rekai.entityid="",window.__rekai.allClickedFAQs=[],window.__rekai.allEventSentsFAQs=[],window.__rekai.transformRequestString=window.__rekai.transformRequestString||transformRequestString,window.__rekai.eventAddToSessionPath=eventAddToSessionPath,window.__rekai.addExternalClickToALink=addExternalClickToALink,window.__rekai.addTheEventToLink=addTheEventToLink,window.__rekai.checkAndSaveView=checkAndSaveView,window.__rekai.sendDataToBackend=sendDataToBackend,window.__rekai.predict=predict,window.__rekai.sendPredictDataToBackend=predictInternal,window.__rekai.predictInternal=predictInternal,window.__rekai.rootPathSettings=rootPathSettings,window.__rekai.predictAutocomplete=predictAutocomplete,window.__rekai.sortResult=window.__rekai.sortResult||!1,window.__rekai.questionInAutoAdded=!1,window.__rekai.doEmbeddingSearch=!1,window.__rekai.getOneAccordionAsHtmlString=getOneAccordionAsHtmlString,window.__rekai.getAllAccordionsAsHtmlString=getAllAccordionsAsHtmlString,window.__rekai.getQuestionsOptions=getQuestionsOptions,window.__rekai.addCssStylesForQuestions=addCssStylesForQuestions,window.__rekai.addEventListenersForQuerstions=addEventListenersForQuestions,window.__rekai.addEventListenersForQuestions=addEventListenersForQuestions,window.__rekai.openQuestion=openQuestion,window.__rekai.checkAndAddEventsToONEElementInDOM=checkAndAddEventsToONEElementInDOM,window.__rekai.checkAndAddEventsToONEFAQElementInDOM=checkAndAddEventsToONEFAQElementInDOM,window.__rekai.addListenersToLinks=addListenersToLinks,window.__rekai.renderPredictions=renderPredictions,window.__rekai.appendCss=getAppendCss(),window.__rekai.checkAndAddEventsToDOM=checkAndAddEventsToDOM,window.__rekai.useconsent=getUseConsent(),window.__rekai.consentaccepted=!1,window.__rekai.removeLocalAndSessionStorage=removeLocalAndSessionStorage,window.__rekai.blockSaveToSessionStorage=window.__rekai.blockSaveToSessionStorage||!1,window.__rekai.blockSaveToLocalStorage=window.__rekai.blockSaveToLocalStorage||!1,window.__rekai.blockSendBeacon=window.__rekai.blockSendBeacon||!1,window.__rekai.predictUrl=predictUrl,window.__rekai.viewURL=viewURL,window.__rekai.readyQueue=window.__rekai.readyQueue||[],window.__rekai.ready=function(e){"function"==typeof e&&window.__rekai.readyQueue.push(e)},window.__rekai.content=window.__rekai.content||{},window.__rekai.errorpage=window.__rekai.errorpage||!1,window.__rekai.seed=window.__rekai.seed||"",""==window.__rekai.seed&&void 0!==window.__rekai.appdata&&(window.__rekai.seed=window.__rekai.appdata.seed||""),window.__rekai.templateId=getTemplateId(customer),window.__rekai.sendingAnEvent=sendingAnEvent,window.__rekai.nonce=window.__rekai.nonce||getNonce(),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(rekcompleted):(document.addEventListener("DOMContentLoaded",rekcompleted),window.addEventListener("load",rekcompleted))})();